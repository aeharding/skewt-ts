"use strict";function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _readOnlyError(e){throw new TypeError("\""+e+"\" is read-only")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}W["@plugins/skewt"]||W.define("@plugins/skewt",[],function(){'use strict';var N=Math.tan,en=Math.PI,tn=Math.abs,nn=Math.atan,ea=Math.sqrt,ta=Math.LN10,na=Math.ceil,aa=Math.floor,ia=Math.round,ra=Math.log10,la=Math.pow,sa=Math.exp,oa=Math.log,da=Math.min,pa=Math.max;function ca(e,t,n,a,i){if(e==n)return t;var r=(i-e)/(n-e);return Array.isArray(t)?t.map(function(e,t){return e*(1-r)+a[t]*r}):t*(1-r)+a*r}function ua(e,t,n){var a=e[0]>e[1];return n.map(function(n){var i=e.findIndex(function(e){return a?e<=n:e>=n});return-1==i?i=e.length-1:0==i&&(i=1),ca(e[i-1],t[i-1],e[i],t[i],n)})}function ha(e,t,n,a){for(var i=Math.sign,r=pa(e[0],n[0]),l=da(e[e.length-1],n[n.length-1]),s=Array.from(new Set([].concat(_toConsumableArray(e),_toConsumableArray(n)))).filter(function(e){return e>=r&&e<=l}).sort(function(e,t){return+e>+t?1:-1}),o=ua(e,t,s),d=ua(n,a,s),p=0;p<s.length-1;p++){var c=o[p],u=d[p],h=s[p];if(c==u)return[h,c];var g=o[p+1],m=d[p+1];if(i(u-c)!=i(m-g)){var f=s[p+1],y=f-h,w=(g-c)/y,_=(u-c)/(w-(m-u)/y);return[h+_,c+_*w]}}return null}function ga(e,t){return e.map(function(e,n){return[e,t[n]]})}function ma(e,t){var n=function(n){return ua(e,t,[n])[0]};return n.invert=function(n){return ua(t,e,[n])[0]},n}function fa(e,t){e=e.map(Math.log);var n=function(n){return ua(e,t,[oa(n)])[0]};return n.invert=function(n){return sa(ua(t,e,[n])[0])},n}function ya(e,t){return function(n){var a=n.map(function(n){return e(n).toFixed(1)+","+t(n).toFixed(1)});return"M"+a.join("L")}}function wa(e,t,n){return e+n*(t-e)}function _a(e,t,n){return t*la(e/n,287/1005)}function xa(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:ki;return n*e/(t-e)}function ka(e,t){return xa(va(t),e)}function va(e){var t=e-bi;return vi*sa(17.67*t/(t+243.5))}function ba(e,t){var n=ka(e,t),a=1005+la(2501000,2)*n*ki/(287*la(t,2));return 1/e*((287*t+2501000*n)/a)}function Ta(e,t){return e*t/(ki+t)}function Ca(e){var t=oa(e/vi);return bi+243.5*t/(17.67-t)}function La(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1013.25;return 288.15/Ti*(la(e/t,-Ti*287/Ci)-1)}function Sa(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1013.25;return 145366.45*(1-la(e/t,.190284))/3.28084}function Aa(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1013.25;return t*=3.28084,la(-(t/145366.45-1),1/.190284)*n}function Ea(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:110.8,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1e3;return Aa(e-t,n)}function za(e,t,n,a,i){for(var r,l=0;l<e.temp.length;l++){for(var s in r=!1,e)e[s][l]||0===e[s][l]||(r=!0);if(r)for(var o in e)e[o].splice(l,1)}for(var d={},p=[],c=[],u=[],h=[],g=[],m=xa(va(i),a),f=xi.scaleLog(e.level,e.gh),y=f(a),w=pa(y,e.gh[e.gh.length-1]),_=(w-y)/t,x=function(n,a){for(var i,r=[],l=[],s=[],o=f.invert(n);n<w+_;n+=_)i=f.invert(n),a+=(i-o)*ba(i,a),o=i,r.push(n),l.push(i),s.push(a);var d,p,c=xi.zip(s,l),u=xi.firstIntersection(r,s,e.gh,e.temp);if(s.length){var h=e.gh.findIndex(function(t){return t>r[1]}),g=h-1;if(0<g){var m=xi.linearInterpolate(e.gh[h],e.temp[h],e.gh[g],e.temp[g],r[1]);s[1]<m&&!u&&(u=(_readOnlyError("equilibrium"),[r[1],s[1]]))}}return u?(d=u[0],p=f.invert(u[0]),c=c.filter(function(e){return e[1]>=p}),c.push([u[1],p])):(d=1e5,p=f.invert(d)),{moist:c,cloudTop:d,pCloudTop:p}},k=y;k<=w;k+=_){var v=f.invert(k),b=_a(v,n,a),T=Ca(Ta(v,m));p.push(k),c.push(v),u.push(b),h.push(T);var C=_a(v,e.temp[0],a);g.push(C)}var S=xi.firstIntersection(p,u,p,h),A=xi.firstIntersection(p,u,e.gh,e.temp),E=xi.firstIntersection(p,g,p,h),z=xi.firstIntersection(p,h,e.gh,e.temp);if(E&&E.length){d.LCL=E[0];var P=f.invert(E[0]);d.isohumeToDry=[].concat(xi.zip(g,c).filter(function(e){return e[1]>=P}),[[E[1],P]],xi.zip(h,c).filter(function(e){return e[1]>=P}).reverse())}if(z&&z.length){var N=f.invert(z[0]);d.TCON=_a(a,z[1],N);for(var I,D=[],O=!1;!O;d.TCON+=.5){for(I=[-Infinity];I[0]<z[0];d.TCON+=.5){D=[];for(var R,M=y;M<=w;M+=_)R=_a(f.invert(M),d.TCON,a),D.push(R);I=xi.firstIntersection(p,D,e.gh,e.temp)||[-Infinity]}if(d.TCON-=.5,I[0]>z[0]){z=xi.firstIntersection(p,D,p,h);var j=e.gh.findIndex(function(e){return e>z[0]}),V=j-1;if(0<=V){var B=xi.linearInterpolate(e.gh[V],e.temp[V],e.gh[j],e.temp[j],z[0]);z[1]>B&&(O=!0)}}}d.TCON-=.5,d.CCL=z[0],N=f.invert(z[0]),d.isohumeToTemp=[].concat(xi.zip(h,c).filter(function(e){return e[1]>=N}),[[z[1],N]],xi.zip(D,c).filter(function(e){return e[1]>=N}).reverse()),d.moistFromCCL=x(z[0],z[1]).moist}if(d.surface=e.gh[0],!A)return d;if(d.origThermalTop=A[0],A&&S&&S[0]<A[0]){A=S;var X=f.invert(S[0]);Object.assign(d,x(S[0],S[1]));var q=xi.zip(h,c).filter(function(e){return e[1]>X});q.push([S[1],X]),d.isohume=q}var F=f.invert(A[0]),H=xi.zip(u,c).filter(function(e){return e[1]>F});return H.push([A[1],F]),d.dry=H,d.pThermalTop=F,d.elevThermalTop=A[0],d}function Pa(e,t,n){return e+n*(t-e)}function Na(e,t){return 0>e?0:e>t-1?t-1:e}function Ia(e){return Li[aa(Na(e,160))]}function Da(e,t,n,a,i){return(.5*-e+.5*(3*t)-.5*(3*n)+.5*a)*la(i,3)+(e-.5*(5*t)+2*n-.5*a)*la(i,2)+(.5*-e+.5*n)*i+t}function Oa(e,n,a){return Da(Da(e[0],e[1],e[2],e[3],n),Da(e[4],e[5],e[6],e[7],n),Da(e[8],e[9],e[10],e[11],n),Da(e[12],e[13],e[14],e[15],n),a)}function Ra(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(a){var n;return 1===a.length&&(n=a,a=function(e,t){return Ra(n(e),t)}),{left:function(t,n,e,l){for(null==e&&(e=0),null==l&&(l=t.length);e<l;){var s=e+l>>>1;0>a(t[s],n)?e=s+1:l=s}return e},right:function(t,n,e,l){for(null==e&&(e=0),null==l&&(l=t.length);e<l;){var s=e+l>>>1;0<a(t[s],n)?l=s:e=s+1}return e}}}function Ma(l,s,d){var p,c,h,g,m=-1;if(d=+d,(l=+l)==(s=+s)&&0<d)return[l];if((p=s<l)&&(c=l,l=s,s=c),0===(g=ja(l,s,d))||!isFinite(g))return[];if(0<g)for(l=na(l/g),s=aa(s/g),h=Array(c=na(s-l+1));++m<c;)h[m]=(l+m)*g;else for(l=aa(l*g),s=na(s*g),h=Array(c=na(l-s+1));++m<c;)h[m]=(l-m)/g;return p&&h.reverse(),h}function ja(l,t,n){var e=(t-l)/pa(0,n),r=aa(oa(e)/ta),i=e/la(10,r);return 0<=r?(i>=Pi?10:i>=o?5:i>=a?2:1)*la(10,r):-la(10,-r)/(i>=Pi?10:i>=o?5:i>=a?2:1)}function Va(e){return e}function h(e){return"translate("+(e+.5)+",0)"}function p(e){return"translate(0,"+(e+.5)+")"}function Ba(e){return function(t){return+e(t)}}function Xa(a){var t=pa(0,a.bandwidth()-1)/2;return a.round()&&(t=ia(t)),function(n){return+a(n)+t}}function v(){return!this.__axis}function e(g,m){function d(e){var n=null==C?m.ticks?m.ticks.apply(m,f):m.domain():C,a=null==z?m.tickFormat?m.tickFormat.apply(m,f):Va:z,i=pa(I,0)+O,r=m.range(),o=+r[0]+.5,d=+r[r.length-1]+.5,p=(m.bandwidth?Xa:Ba)(m.copy()),c=e.selection?e.selection():e,u=c.selectAll(".domain").data([null]),h=c.selectAll(".tick").data(n,m).order(),y=h.exit(),w=h.enter().append("g").attr("class","tick"),_=h.select("line"),x=h.select("text");u=u.merge(u.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(w),_=_.merge(w.append("line").attr("stroke","currentColor").attr(s+"2",t*I)),x=x.merge(w.append("text").attr("fill","currentColor").attr(s,t*i).attr("dy",1===g?"0em":3===g?"0.71em":"0.32em")),e!==c&&(u=u.transition(e),h=h.transition(e),_=_.transition(e),x=x.transition(e),y=y.transition(e).attr("opacity",Ni).attr("transform",function(e){return isFinite(e=p(e))?l(e):this.getAttribute("transform")}),w.attr("opacity",Ni).attr("transform",function(e){var t=this.parentNode.__axis;return l(t&&isFinite(t=t(e))?t:p(e))})),y.remove(),u.attr("d",4===g||2==g?D?"M"+t*D+","+o+"H0.5V"+d+"H"+t*D:"M0.5,"+o+"V"+d:D?"M"+o+","+t*D+"V0.5H"+d+"V"+t*D:"M"+o+",0.5H"+d),h.attr("opacity",1).attr("transform",function(e){return l(p(e))}),_.attr(s+"2",t*I),x.attr(s,t*i).text(a),c.filter(v).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===g?"start":4===g?"end":"middle"),c.each(function(){this.__axis=p})}var f=[],C=null,z=null,I=6,D=6,O=3,t=1===g||4===g?-1:1,s=4===g||2===g?"x":"y",l=1===g||3===g?h:p;return d.scale=function(e){return arguments.length?(m=e,d):m},d.ticks=function(){return f=i.call(arguments),d},d.tickArguments=function(e){return arguments.length?(f=null==e?[]:i.call(e),d):f.slice()},d.tickValues=function(e){return arguments.length?(C=null==e?null:i.call(e),d):C&&C.slice()},d.tickFormat=function(e){return arguments.length?(z=e,d):z},d.tickSize=function(e){return arguments.length?(I=D=+e,d):I},d.tickSizeInner=function(e){return arguments.length?(I=+e,d):I},d.tickSizeOuter=function(e){return arguments.length?(D=+e,d):D},d.tickPadding=function(e){return arguments.length?(O=+e,d):O},d}function qa(){for(var a,i=0,s=arguments.length,e={};i<s;++i){if(!(a=arguments[i]+"")||a in e||/[\s.]/.test(a))throw new Error("illegal type: "+a);e[a]=[]}return new l(e)}function l(e){this._=e}function s(e,a){return e.trim().split(/^|\s+/).map(function(n){var i="",l=n.indexOf(".");if(0<=l&&(i=n.slice(l+1),n=n.slice(0,l)),n&&!a.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}function d(a,t){for(var n,l=0,s=a.length;l<s;++l)if((n=a[l]).name===t)return n.value}function m(a,l,n){for(var e=0,s=a.length;e<s;++e)if(a[e].name===l){a[e]=c,a=a.slice(0,e).concat(a.slice(e+1));break}return null!=n&&a.push({name:l,value:n}),a}function y(a){var i=a+="",l=i.indexOf(":");return 0<=l&&"xmlns"!==(i=a.slice(0,l))&&(a=a.slice(l+1)),r.hasOwnProperty(i)?{space:r[i],local:a}:a}function w(a){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n==="http://www.w3.org/1999/xhtml"&&t.documentElement.namespaceURI==="http://www.w3.org/1999/xhtml"?t.createElement(a):t.createElementNS(n,a)}}function x(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function k(e){var t=y(e);return(t.local?x:w)(t)}function b(){}function T(e){return null==e?b:function(){return this.querySelector(e)}}function C(){return[]}function S(e){return null==e?C:function(){return this.querySelectorAll(e)}}function E(e){return function(){return this.matches(e)}}function z(e){return Array(e.length)}function P(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function O(d,t,n,e,r,i){for(var o,p=0,c=t.length,s=i.length;p<s;++p)(o=t[p])?(o.__data__=i[p],e[p]=o):n[p]=new P(d,i[p]);for(;p<c;++p)(o=t[p])&&(r[p]=o)}function M(d,t,n,e,r,i,o){var a,g,m,y={},c=t.length,h=i.length,f=Array(c);for(a=0;a<c;++a)(g=t[a])&&(f[a]=m="$"+o.call(g,g.__data__,a,t),m in y?r[a]=g:y[m]=g);for(a=0;a<h;++a)(g=y[m="$"+o.call(d,i[a],a,i)])?(e[a]=g,g.__data__=i[a],y[m]=null):n[a]=new P(d,i[a]);for(a=0;a<c;++a)(g=t[a])&&y[f[a]]===g&&(r[a]=g)}function R(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function I(e){return function(){this.removeAttribute(e)}}function D(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j(e,t){return function(){this.setAttribute(e,t)}}function V(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function X(a,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(a):this.setAttribute(a,n)}}function q(a,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,n)}}function B(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function F(e){return function(){this.style.removeProperty(e)}}function H(a,t,n){return function(){this.style.setProperty(a,t,n)}}function $(a,t,n){return function(){var e=t.apply(this,arguments);null==e?this.style.removeProperty(a):this.style.setProperty(a,e,n)}}function Y(e,t){return e.style.getPropertyValue(t)||B(e).getComputedStyle(e,null).getPropertyValue(t)}function U(e){return function(){delete this[e]}}function G(e,t){return function(){this[e]=t}}function Z(a,t){return function(){var n=t.apply(this,arguments);null==n?delete this[a]:this[a]=n}}function K(e){return e.trim().split(/^|\s+/)}function Q(e){return e.classList||new J(e)}function J(e){this._node=e,this._names=K(e.getAttribute("class")||"")}function et(a,t){for(var n=Q(a),e=-1,l=t.length;++e<l;)n.add(t[e])}function tt(a,t){for(var n=Q(a),e=-1,l=t.length;++e<l;)n.remove(t[e])}function nt(e){return function(){et(this,e)}}function at(e){return function(){tt(this,e)}}function it(e,t){return function(){(t.apply(this,arguments)?et:tt)(this,e)}}function rt(){this.textContent=""}function lt(e){return function(){this.textContent=e}}function st(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ot(){this.innerHTML=""}function ct(e){return function(){this.innerHTML=e}}function pt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function dt(){this.nextSibling&&this.parentNode.appendChild(this)}function ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function gt(){var e=this.parentNode;e&&e.removeChild(this)}function mt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ft(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yt(a,i,n){return a=wt(a,i,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||a.call(this,t)}}function wt(a,t,n){return function(e){var r=f;f=e;try{a.call(this,this.__data__,t,n)}finally{f=r}}}function _t(e){return e.trim().split(/^|\s+/).map(function(a){var i="",r=a.indexOf(".");return 0<=r&&(i=a.slice(r+1),a=a.slice(0,r)),{type:a,name:i}})}function kt(a){return function(){var t=this.__on;if(t){for(var n,l=0,s=-1,d=t.length;l<d;++l)n=t[l],a.type&&n.type!==a.type||n.name!==a.name?t[++s]=n:this.removeEventListener(n.type,n.listener,n.capture);++s?t.length=s:delete this.__on}}}function vt(d,t,n){var e=u.hasOwnProperty(d.type)?yt:wt;return function(r,i,o){var a,p=this.__on,s=e(t,i,o);if(p)for(var l=0,g=p.length;l<g;++l)if((a=p[l]).type===d.type&&a.name===d.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=n),void(a.value=t);this.addEventListener(d.type,s,n),a={type:d.type,name:d.name,value:t,listener:s,capture:n},p?p.push(a):this.__on=[a]}}function At(a,t,n,e){var r=f;a.sourceEvent=f,f=a;try{return t.apply(n,e)}finally{f=r}}function St(a,t,n){var e=B(a),r=e.CustomEvent;"function"==typeof r?r=new r(t,n):(r=e.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),a.dispatchEvent(r)}function Tt(e,t){return function(){return St(this,e,t)}}function Et(e,t){return function(){return St(this,e,t.apply(this,arguments))}}function Ct(e,t){this._groups=e,this._parents=t}function zt(){return new Ct([[document.documentElement]],_)}function Lt(e){return"string"==typeof e?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],_)}function Pt(){for(var e,a=f;e=a.sourceEvent;)a=e;return a}function Nt(a,t){var n=a.ownerSVGElement||a;if(n.createSVGPoint){var e=n.createSVGPoint();return e.x=t.clientX,e.y=t.clientY,[(e=e.matrixTransform(a.getScreenCTM().inverse())).x,e.y]}var l=a.getBoundingClientRect();return[t.clientX-l.left-a.clientLeft,t.clientY-l.top-a.clientTop]}function Ot(e){var t=Pt();return t.changedTouches&&(t=t.changedTouches[0]),Nt(e,t)}function Mt(a,t,l){3>arguments.length&&(l=t,t=Pt().changedTouches);for(var s,d=0,p=t?t.length:0;d<p;++d)if((s=t[d]).identifier===l)return Nt(a,s);return null}function Rt(){f.stopImmediatePropagation()}function It(){f.preventDefault(),f.stopImmediatePropagation()}function Dt(a){var t=a.document.documentElement,n=Lt(a).on("dragstart.drag",It,!0);"onselectstart"in t?n.on("selectstart.drag",It,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jt(e){return function(){return e}}function Vt(d,t,n,e,r,i,o,a,p,s){this.target=d,this.type=t,this.subject=n,this.identifier=e,this.active=r,this.x=i,this.y=o,this.dx=a,this.dy=p,this._=s}function Xt(){return!f.ctrlKey&&!f.button}function Ft(){return this.parentNode}function Bt(e){return null==e?{x:f.x,y:f.y}:e}function Ht(){return navigator.maxTouchPoints||"ontouchstart"in this}function $t(a,t,n){a.prototype=t.prototype=n,n.constructor=a}function Yt(a,t){var n=Object.create(a.prototype);for(var e in t)n[e]=t[e];return n}function Ut(){}function Gt(){return this.rgb().formatHex()}function Zt(){return this.rgb().formatRgb()}function Kt(a){var i,r;return a=(a+"").trim().toLowerCase(),(i=Wt.exec(a))?(r=i[1].length,i=parseInt(i[1],16),6===r?Qt(i):3===r?new mn(15&i>>8|240&i>>4,15&i>>4|240&i,(15&i)<<4|15&i,1):8===r?dn(255&i>>24,255&i>>16,255&i>>8,(255&i)/255):4===r?dn(15&i>>12|240&i>>8,15&i>>8|240&i>>4,15&i>>4|240&i,((15&i)<<4|15&i)/255):null):(i=Jt.exec(a))?new mn(i[1],i[2],i[3],1):(i=rn.exec(a))?new mn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=an.exec(a))?dn(i[1],i[2],i[3],i[4]):(i=on.exec(a))?dn(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=sn.exec(a))?_n(i[1],i[2]/100,i[3]/100,1):(i=ln.exec(a))?_n(i[1],i[2]/100,i[3]/100,i[4]):cn.hasOwnProperty(a)?Qt(cn[a]):"transparent"===a?new mn(NaN,NaN,NaN,0):null}function Qt(e){return new mn(255&e>>16,255&e>>8,255&e,1)}function dn(a,i,l,s){return 0>=s&&(a=i=l=NaN),new mn(a,i,l,s)}function pn(e){return e instanceof Ut||(e=Kt(e)),e?new mn((e=e.rgb()).r,e.g,e.b,e.opacity):new mn}function gn(a,t,n,e){return 1===arguments.length?pn(a):new mn(a,t,n,null==e?1:e)}function mn(a,t,n,e){this.r=+a,this.g=+t,this.b=+n,this.opacity=+e}function fn(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)}function yn(){var e=this.opacity;return(1===(e=isNaN(e)?1:pa(0,da(1,e)))?"rgb(":"rgba(")+pa(0,da(255,ia(this.r)||0))+", "+pa(0,da(255,ia(this.g)||0))+", "+pa(0,da(255,ia(this.b)||0))+(1===e?")":", "+e+")")}function wn(e){return(16>(e=pa(0,da(255,ia(e)||0)))?"0":"")+e.toString(16)}function _n(a,i,l,s){return 0>=s?a=i=l=NaN:0>=l||1<=l?a=i=NaN:0>=i&&(a=NaN),new kn(a,i,l,s)}function xn(l){if(l instanceof kn)return new kn(l.h,l.s,l.l,l.opacity);if(l instanceof Ut||(l=Kt(l)),!l)return new kn;if(l instanceof kn)return l;var d=(l=l.rgb()).r/255,n=l.g/255,e=l.b/255,r=da(d,n,e),i=pa(d,n,e),o=NaN,p=i-r,c=(i+r)/2;return p?(o=d===i?(n-e)/p+6*(n<e):n===i?(e-d)/p+2:(d-n)/p+4,p/=.5>c?i+r:2-i-r,o*=60):p=0<c&&1>c?0:o,new kn(o,p,c,l.opacity)}function kn(a,t,n,e){this.h=+a,this.s=+t,this.l=+n,this.opacity=+e}function vn(a,t,n){return 255*(60>a?t+(n-t)*a/60:180>a?n:240>a?t+(n-t)*(240-a)/60:t)}function bn(e){return function(){return e}}function An(a){return 1==(a=+a)?Sn:function(t,n){return n-t?function(a,i,l){return a=la(a,l),i=la(i,l)-a,l=1/l,function(e){return la(a+e*i,l)}}(t,n,a):bn(isNaN(t)?n:t)}}function Sn(a,t){var n=t-a;return n?function(a,t){return function(n){return a+n*t}}(a,n):bn(isNaN(a)?t:a)}function Tn(a,t){t||(t=[]);var l,s=a?da(t.length,a.length):0,r=t.slice();return function(e){for(l=0;l<s;++l)r[l]=a[l]*(1-e)+t[l]*e;return r}}function Cn(l,t){var n,s=t?t.length:0,r=l?da(s,l.length):0,i=Array(r),o=Array(s);for(n=0;n<r;++n)i[n]=Mn(l[n],t[n]);for(;n<s;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=i[n](e);return o}}function En(a,i){var l=new Date;return a=+a,i=+i,function(e){return l.setTime(a*(1-e)+i*e),l}}function zn(a,i){return a=+a,i=+i,function(t){return a*(1-t)+i*t}}function Ln(a,l){var s,o={},r={};for(s in null!==a&&"object"==_typeof(a)||(a={}),null!==l&&"object"==_typeof(l)||(l={}),l)s in a?o[s]=Mn(a[s],l[s]):r[s]=l[s];return function(e){for(s in o)r[s]=o[s](e);return r}}function Nn(l,d){var p,c,h,g=Pn.lastIndex=Xn.lastIndex=0,m=-1,f=[],u=[];for(l+="",d+="";(p=Pn.exec(l))&&(c=Xn.exec(d));)(h=c.index)>g&&(h=d.slice(g,h),f[m]?f[m]+=h:f[++m]=h),(p=p[0])===(c=c[0])?f[m]?f[m]+=c:f[++m]=c:(f[++m]=null,u.push({i:m,x:zn(p,c)})),g=Xn.lastIndex;return g<d.length&&(h=d.slice(g),f[m]?f[m]+=h:f[++m]=h),2>f.length?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(d):(d=u.length,function(n){for(var t,a=0;a<d;++a)f[(t=u[a]).i]=t.x(n);return f.join("")})}function Mn(a,t){var i,l=_typeof(t);return null==t||"boolean"===l?bn(t):("number"===l?zn:"string"===l?(i=Kt(t))?(t=i,Mi):Nn:t instanceof Kt?Mi:t instanceof Date?En:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Tn:Array.isArray(t)?Cn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Ln:zn)(a,t)}function Rn(a,i){return a=+a,i=+i,function(t){return ia(a*(1-t)+i*t)}}function In(l,d,p,c,h,i){var o,g,m;return(o=ea(l*l+d*d))&&(l/=o,d/=o),(m=l*p+d*c)&&(p-=l*m,c-=d*m),(g=ea(p*p+c*c))&&(p/=g,c/=g,m/=g),l*c<d*p&&(l=-l,d=-d,m=-m,o=-o),{translateX:h,translateY:i,rotate:Math.atan2(d,l)*On,skewX:nn(m)*On,scaleX:o,scaleY:g}}function jn(l,d,n,a){function s(e){return e.length?e.pop()+" ":""}return function(e,t){var i=[],p=[];return e=l(e),t=l(t),function(e,t,r,i,l,a){if(e!==r||t!==i){var o=l.push("translate(",null,d,null,n);a.push({i:o-4,x:zn(e,r)},{i:o-2,x:zn(t,i)})}else(r||i)&&l.push("translate("+r+d+i+n)}(e.translateX,e.translateY,t.translateX,t.translateY,i,p),function(i,r,l,e){i===r?r&&l.push(s(l)+"rotate("+r+a):(180<i-r?r+=360:180<r-i&&(i+=360),e.push({i:l.push(s(l)+"rotate(",null,a)-2,x:zn(i,r)}))}(e.rotate,t.rotate,i,p),function(i,t,n,e){i===t?t&&n.push(s(n)+"skewX("+t+a):e.push({i:n.push(s(n)+"skewX(",null,a)-2,x:zn(i,t)})}(e.skewX,t.skewX,i,p),function(i,t,n,e,r,l){if(i!==n||t!==e){var a=r.push(s(r)+"scale(",null,",",null,")");l.push({i:a-4,x:zn(i,n)},{i:a-2,x:zn(t,e)})}else 1===n&&1===e||r.push(s(r)+"scale("+n+","+e+")")}(e.scaleX,e.scaleY,t.scaleX,t.scaleY,i,p),e=t=null,function(a){for(var t,l=-1,s=p.length;++l<s;)i[(t=p[l]).i]=t.x(a);return i.join("")}}}function Vn(){return Xi||(oe(ue),Xi=Fi.now()+qi)}function ue(){Xi=0}function se(){this._call=this._time=this._next=null}function le(a,t,n){var e=new se;return e.restart(a,t,n),e}function ce(){Xi=(Bi=Fi.now())+qi,Jn=ji=0;try{!function(){Vn(),++Jn;for(var e,a=Oi;a;)0<=(e=Xi-a._time)&&a._call.call(null,e),a=a._next;--Jn}()}finally{Jn=0,function(){for(var a,i,l=Oi,s=1/0;l;)l._call?(s>l._time&&(s=l._time),a=l,l=l._next):(i=l._next,l._next=null,l=a?a._next=i:Oi=i);Ri=a,fe(s)}(),Xi=0}}function he(){var e=Fi.now(),t=e-Bi;1e3<t&&(qi-=t,Bi=e)}function fe(e){Jn||(ji&&(ji=clearTimeout(ji)),24<e-Xi?(e<1/0&&(ji=setTimeout(ce,e-Fi.now()-qi)),Vi&&(Vi=clearInterval(Vi))):(Vi||(Bi=Fi.now(),Vi=setInterval(he,1e3)),Jn=1,oe(ce)))}function pe(a,t,i){var l=new se;return t=null==t?0:+t,l.restart(function(n){l.stop(),a(n+t)},t,i),l}function de(l,t,n,e,r,i){var s=l.__transition;if(!s)l.__transition={};else if(n in s)return;!function(d,t,p){function e(i){var r,o,g,m;if(1!==p.state)return u();for(r in a)if((m=a[r]).name===p.name){if(3===m.state)return pe(e);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",d,d.__data__,m.index,m.group),delete a[r]):+r<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",d,d.__data__,m.index,m.group),delete a[r])}if(pe(function(){3===p.state&&(p.state=4,p.timer.restart(n,p.delay,p.time),n(i))}),p.state=2,p.on.call("start",d,d.__data__,p.index,p.group),2===p.state){for(p.state=3,s=Array(g=p.tween.length),r=0,o=-1;r<g;++r)(m=p.tween[r].value.call(d,d.__data__,p.index,p.group))&&(s[++o]=m);s.length=o+1}}function n(e){for(var t=e<p.duration?p.ease.call(null,e/p.duration):(p.timer.restart(u),p.state=5,1),n=-1,i=s.length;++n<i;)s[n].call(d,t);5===p.state&&(p.on.call("end",d,d.__data__,p.index,p.group),u())}function u(){for(var e in p.state=6,p.timer.stop(),delete a[t],a)return;delete d.__transition}var s,a=d.__transition;a[t]=p,p.timer=le(function(n){p.state=1,p.timer.restart(e,p.delay,p.time),p.delay<=n&&e(n-p.delay)},0,p.time)}(l,n,{name:t,index:e,group:r,on:ae,tween:ge,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function me(a,t){var n=_e(a,t);if(0<n.state)throw new Error("too late; already scheduled");return n}function ye(a,t){var n=_e(a,t);if(3<n.state)throw new Error("too late; already running");return n}function _e(a,t){var n=a.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function we(l,t){var n,s;return function(){var e=ye(this,l),i=e.tween;if(i!==n)for(var r=0,o=(s=n=i).length;r<o;++r)if(s[r].name===t){(s=s.slice()).splice(r,1);break}e.tween=s}}function xe(d,t,n){var e,p;if("function"!=typeof n)throw new Error;return function(){var i=ye(this,d),r=i.tween;if(r!==e){p=(e=r).slice();for(var a={name:t,value:n},o=0,c=p.length;o<c;++o)if(p[o].name===t){p[o]=a;break}o===c&&p.push(a)}i.tween=p}}function be(a,i,n){var e=a._id;return a.each(function(){var a=ye(this,e);(a.value||(a.value={}))[i]=n.apply(this,arguments)}),function(n){return _e(n,e).value[i]}}function Me(a,t){var i;return("number"==typeof t?zn:t instanceof Kt?Mi:(i=Kt(t))?(t=i,Mi):Nn)(a,t)}function ke(e){return function(){this.removeAttribute(e)}}function Ne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ae(l,t,n){var e,s;return function(){var i=this.getAttribute(l);return i===n+""?null:i===e?s:s=t(e=i,n)}}function Ee(l,t,n){var e,s;return function(){var i=this.getAttributeNS(l.space,l.local);return i===n+""?null:i===e?s:s=t(e=i,n)}}function Se(l,t,n){var e,d,p;return function(){var i,r,o=n(this);return null==o?void this.removeAttribute(l):(i=this.getAttribute(l))===(r=o+"")?null:i===e&&r===d?p:(d=r,p=t(e=i,o))}}function Te(l,t,n){var e,d,p;return function(){var i,r,o=n(this);return null==o?void this.removeAttributeNS(l.space,l.local):(i=this.getAttributeNS(l.space,l.local))===(r=o+"")?null:i===e&&r===d?p:(d=r,p=t(e=i,o))}}function Pe(a,t){return function(n){this.setAttribute(a,t.call(this,n))}}function Ce(a,t){return function(n){this.setAttributeNS(a.space,a.local,t.call(this,n))}}function qe(a,t){function n(){var e=t.apply(this,arguments);return e!==s&&(l=(s=e)&&Ce(a,e)),l}var l,s;return n._value=t,n}function ze(a,t){function n(){var e=t.apply(this,arguments);return e!==s&&(l=(s=e)&&Pe(a,e)),l}var l,s;return n._value=t,n}function Le(e,t){return function(){me(this,e).delay=+t.apply(this,arguments)}}function je(e,t){return t=+t,function(){me(this,e).delay=t}}function Xe(e,t){return function(){ye(this,e).duration=+t.apply(this,arguments)}}function Oe(e,t){return t=+t,function(){ye(this,e).duration=t}}function Ve(e,t){if("function"!=typeof t)throw new Error;return function(){ye(this,e).ease=t}}function Re(l,t,n){var e,s,d=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var a=e.indexOf(".");return 0<=a&&(e=e.slice(0,a)),!e||"start"===e})}(t)?me:ye;return function(){var i=d(this,l),a=i.on;a!==e&&(s=(e=a).copy()).on(t,n),i.on=s}}function Ie(e){return function(){this.style.removeProperty(e)}}function $e(a,t,n){return function(e){this.style.setProperty(a,t.call(this,e),n)}}function He(a,t,n){function e(){var e=t.apply(this,arguments);return e!==s&&(l=(s=e)&&$e(a,e,n)),l}var l,s;return e._value=t,e}function Fe(e){return function(t){this.textContent=e.call(this,t)}}function Ye(a){function t(){var e=a.apply(this,arguments);return e!==l&&(i=(l=e)&&Fe(e)),i}var i,l;return t._value=a,t}function Be(a,t,n,e){this._groups=a,this._parents=t,this._name=n,this._id=e}function Ge(){return++De}function Ze(a,i){for(var n;!(n=a.__transition)||!(n=n[i]);)if(!(a=a.parentNode))return Ke.time=Vn(),Ke;return n}function Je(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qn(){return new Je}function Un(){}function Gn(l,t){var s=new Un;if(l instanceof Un)l.each(function(e,t){s.set(t,e)});else if(Array.isArray(l)){var e,n=-1,d=l.length;if(null==t)for(;++n<d;)s.set(n,l[n]);else for(;++n<d;)s.set(t(e=l[n],n,l),e)}else if(l)for(var o in l)s.set(o,l[o]);return s}function Fa(){}function Ha(a,i){if(0>(n=(a=i?a.toExponential(i-1):a.toExponential()).indexOf("e")))return null;var n,l=a.slice(0,n);return[1<l.length?l[0]+l.slice(2):l,+a.slice(n+1)]}function $a(e){return(e=Ha(tn(e)))?e[1]:NaN}function Ya(e){if(!(t=Gi.exec(e)))throw new Error("invalid format: "+e);var t;return new Ua({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ua(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ga(a,t){var n=Ha(a,t);if(!n)return a+"";var e=n[0],r=n[1];return 0>r?"0."+Array(-r).join("0")+e:e.length>r+1?e.slice(0,r+1)+"."+e.slice(r+1):e+Array(r-e.length+2).join("0")}function Za(e){return e}function Ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);}return this}function Qa(e){return+e}function Wa(e){return e}function Ja(a,i){return(i-=a=+a)?function(t){return(t-a)/i}:function(e){return function(){return e}}(isNaN(i)?NaN:.5)}function ei(a){var t,i=a[0],l=a[a.length-1];return i>l&&(t=i,i=l,l=t),function(e){return pa(i,da(l,e))}}function ti(l,t,n){var e=l[0],s=l[1],i=t[0],d=t[1];return s<e?(e=Ja(s,e),i=n(d,i)):(e=Ja(e,s),i=n(i,d)),function(n){return i(e(n))}}function ni(i,l,s){var d=da(i.length,l.length)-1,r=Array(d),o=Array(d),e=-1;for(i[d]<i[0]&&(i=i.slice().reverse(),l=l.slice().reverse());++e<d;)r[e]=Ja(i[e],i[e+1]),o[e]=s(l[e],l[e+1]);return function(t){var n=zi(i,t,1,d)-1;return o[n](r[n](t))}}function ai(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ii(){function d(){return m=2<da(w.length,_.length)?ni:ti,f=y=null,p}function p(e){return isNaN(e=+e)?g:(f||(f=m(w.map(c),_,x)))(c(k(e)))}var c,h,g,m,f,y,w=ar,_=ar,x=Mn,k=Wa;return p.invert=function(t){return k(h((y||(y=m(_,w.map(c),zn)))(t)))},p.domain=function(e){return arguments.length?(w=tr.call(e,Qa),k===Wa||(k=ei(w)),d()):w.slice()},p.range=function(e){return arguments.length?(_=nr.call(e),d()):_.slice()},p.rangeRound=function(e){return _=nr.call(e),x=Rn,d()},p.clamp=function(e){return arguments.length?(k=e?ei(w):Wa,p):k!==Wa},p.interpolate=function(e){return arguments.length?(x=e,d()):x},p.unknown=function(e){return arguments.length?(g=e,p):g},function(t,e){return c=t,h=e,d()}}function ri(e,t){return ii()(e,t)}function li(t,n,e,r){var d,p=function(l,t,n){var e=tn(t-l)/pa(0,n),r=la(10,aa(oa(e)/ta)),d=e/r;return d>=Pi?r*=10:d>=o?r*=5:d>=a&&(r*=2),t<l?-r:r}(t,n,e);switch((r=Ya(null==r?",f":r)).type){case"s":var l=pa(tn(t),tn(n));return null!=r.precision||isNaN(d=function(e,t){return pa(0,3*pa(-8,da(8,aa($a(t)/3)))-$a(tn(e)))}(p,l))||(r.precision=d),Ki(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(d=function(e,a){return e=tn(e),a=tn(a)-e,pa(0,$a(a)-$a(e))+1}(p,pa(tn(t),tn(n))))||(r.precision=d-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(d=function(e){return pa(0,-$a(tn(e)))}(p))||(r.precision=d-2*("%"===r.type));}return Ei.format(r)}function si(l){var d=l.domain;return l.ticks=function(n){var t=d();return Ma(t[0],t[t.length-1],null==n?10:n)},l.tickFormat=function(n,t){var e=d();return li(e[0],e[e.length-1],null==n?10:n,t)},l.nice=function(t){null==t&&(t=10);var n,p=d(),i=0,c=p.length-1,h=p[i],g=p[c];return g<h&&(n=h,h=g,g=n,n=i,i=c,c=n),0<(n=ja(h,g,t))?n=ja(h=aa(h/n)*n,g=na(g/n)*n,t):0>n&&(n=ja(h=na(h*n)/n,g=aa(g*n)/n,t)),0<n?(p[i]=aa(h/n)*n,p[c]=na(g/n)*n,d(p)):0>n&&(p[i]=na(h*n)/n,p[c]=aa(g*n)/n,d(p)),l},l}function oi(e){return oa(e)}function di(e){return sa(e)}function pi(e){return-oa(-e)}function ci(e){return-sa(-e)}function ui(e){return isFinite(e)?+("1e"+e):0>e?0:e}function hi(e){return function(t){return-e(-t)}}function gi(t){function n(){var e=Math.E;return s=function(a){return a===e?oa:10===a&&ra||2===a&&Math.log2||(a=oa(a),function(e){return oa(e)/a})}(w),m=function(a){return 10===a?ui:a===e?sa:function(e){return la(a,e)}}(w),0>y()[0]?(s=hi(s),m=hi(m),t(pi,ci)):t(oi,di),l}var s,m,l=t(oi,di),y=l.domain,w=10;return l.base=function(e){return arguments.length?(w=+e,n()):w},l.domain=function(e){return arguments.length?(y(e),n()):y()},l.ticks=function(e){var t,a=y(),i=a[0],r=a[a.length-1];(t=r<i)&&(k=i,i=r,r=k);var o,_,x,k=s(i),b=s(r),T=null==e?10:+e,g=[];if(!(!(w%1)&&b-k<T))g=Ma(k,b,da(b-k,T)).map(m);else if(k=ia(k)-1,b=ia(b)+1,0<i){for(;k<b;++k)for(_=1,o=m(k);_<w;++_)if(!((x=o*_)<i)){if(x>r)break;g.push(x)}}else for(;k<b;++k)for(_=w-1,o=m(k);1<=_;--_)if(!((x=o*_)<i)){if(x>r)break;g.push(x)}return t?g.reverse():g},l.tickFormat=function(e,a){if(null==a&&(a=10===w?".0e":","),"function"!=typeof a&&(a=Ei.format(a)),e===1/0)return a;null==e&&(e=10);var i=pa(1,w*e/l.ticks().length);return function(e){var t=e/m(ia(s(e)));return t*w<w-.5&&(t*=w),t<=i?a(e):""}},l.nice=function(){return y(function(l,s){var n,d=0,p=(l=l.slice()).length-1,c=l[d],u=l[p];return u<c&&(n=d,d=p,p=n,n=c,c=u,u=n),l[d]=s.floor(c),l[p]=s.ceil(u),l}(y(),{floor:function(e){return m(aa(s(e)))},ceil:function(e){return m(na(s(e)))}}))},l}function mi(e){return function(){return e}}function fi(e){this._context=e}function yi(e){return new fi(e)}function wi(e){return e[0]}function _i(e){return e[1]}console.log("skewt loaded");for(var xi={linearInterpolate:ca,sampleAt:ua,zip:ga,firstIntersection:ha,scaleLinear:ma,scaleLog:fa,line:ya,lerp:wa},ki=18.01528/28.9644,vi=6.112,bi=273.15,Ti=-.0065,Ci=9.80665,g={dryLapse:_a,mixingRatio:xa,saturationVaporPressure:va,moistGradientT:ba,vaporPressure:Ta,dewpoint:Ca,getElevation:La,getElevation2:Sa,pressureFromElevation:Aa,getSurfaceP:Ea,parcelTrajectory:za},Li=new Uint8Array(256),Si=0;160>Si;Si++)Li[Si]=Na(24*aa((Si+12)/16),160);var Ai={computeClouds:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:200,i=function(e,t,n){var a=ra(e),i=[ra(t[0]),ra(t[1])],r=i[1]-i[0],l=n[1]-n[0];return n[0]+(a-i[0])/r*l},r={},l=[],s=[];e.forEach(function(e){if(e.press&&(null==e.rh&&e.dwpt&&e.temp&&(e.rh=100*(sa(17.625*e.dwpt/(243.04+e.dwpt))/sa(17.625*e.temp/(243.04+e.temp)))),e.rh&&100<=e.press)){var t=ia(e.press);r["rh-".concat(t,"h")]=[e.rh],l.push(t),s.push(i(t,[1050,100],[0,100]))}}),r["rh-".concat(l[0]+1,"h")]=[0],s.unshift(null,s[0]),l.unshift(null,l[0]+1),l.pop(),l.push(null);for(var o=r["rh-".concat(l[1],"h")].length,d=l.length,p=Array(o*d),c=0,a=0;c<d;++c)if(null==l[c])for(var u=0;u<o;++u)p[a++]=0;else for(var h=.01*s[c],g=Pa(-60,-70,h),m=Pa(.025,.038,h),f=Pa(6,4,h),y=1-.8*la(h,.7),w=r["rh-".concat(l[c],"h")],_=0;_<o;++_){var x=+w[_],k=pa(0,da((x+g)*m,1));k=la(k,f)*y,p[a++]=k}for(var v,b=t||10,T=b*o,C=n||300,S=Array(T*C),A=2*C,E=Array(A),z=Array(16),P=C,N=0;N<d-1;++N){v=P,P=ia(C-1-s[N+1]*(.01*(C-1)));for(var I=o*Na(N+2,d),D=o*Na(N+1,d),O=o*Na(N+0,d),R=o*Na(N-1,d),M=0,j=b+1>>1,V=v-P,B=0;B<o+1;++B){if(0==B&&0<V)for(var X=0;X<V;X++)E[--A]=N,E[--A]=ia(1e4*(1/V)*X);var q=Na(B-2,o),F=Na(B-1,o),H=Na(B+0,o),$=Na(B+1,o);z[0]=p[I+q],z[1]=p[I+F],z[2]=p[I+H],z[3]=p[I+$],z[4]=p[D+q],z[5]=p[D+F],z[6]=p[D+H],z[7]=p[D+$],z[8]=p[O+q],z[9]=p[O+F],z[10]=p[O+H],z[11]=p[O+$],z[12]=p[R+q],z[13]=p[R+F],z[14]=p[R+H],z[15]=p[R+$];for(var Y,U=P*T+M,G=j-M,Z=0;Z<V;++Z){Y=U+Z*T;for(var K,Q=0;Q<G;++Q)K=Ia(160*Oa(z,1/G*Q,1/V*Z)),S[Y++]=255-K}M=j,j+=b,j>T&&(j=T)}}return{clouds:S,width:T,height:C}},cloudsToCanvas:function(e){var t=e.clouds,n=e.width,a=e.height,i=e.canvas;null==i&&(i=document.createElement("canvas")),i.width=n,i.height=a;for(var r=i.getContext("2d"),l=r.getImageData(0,0,n,a),s=l.data,o=0,d=0,p=0;p<n;++p)for(var c,u=0;u<a;++u)c=t[o++],s[d++]=c,s[d++]=c,s[d++]=c,s[d++]=245>c?255:0;return r.putImageData(l,0,0),r.drawImage(i,0,0,n,a),i}},Ei={},t=n(Ra),zi=t.right,Pi=ea(50),o=ea(10),a=ea(2),i=Array.prototype.slice,Ni=1e-6,c={value:function(){}};l.prototype=qa.prototype={constructor:l,on:function(l,p){var n,c=this._,r=s(l+"",c),i=-1,u=r.length;if(!(2>arguments.length)){if(null!=p&&"function"!=typeof p)throw new Error("invalid callback: "+p);for(;++i<u;)if(n=(l=r[i]).type)c[n]=m(c[n],l.name,p);else if(null==p)for(n in c)c[n]=m(c[n],l.name,null);return this}for(;++i<u;)if((n=(l=r[i]).type)&&(n=d(c[n],l.name)))return n},copy:function(){var a={},t=this._;for(var n in t)a[n]=t[n].slice();return new l(a)},call:function(a,t){if(0<(n=arguments.length-2))for(var n,l,s=Array(n),i=0;i<n;++i)s[i]=arguments[i+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(i=0,n=(l=this._[a]).length;i<n;++i)l[i].value.apply(t,s)},apply:function(a,t,n){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var e=this._[a],r=0,l=e.length;r<l;++r)e[r].value.apply(t,n)}};var r={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};P.prototype={constructor:P,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},J.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return 0<=this._names.indexOf(e)}};var u={},f=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(u={mouseenter:"mouseover",mouseleave:"mouseout"}));var _=[null];Ct.prototype=zt.prototype={constructor:Ct,select:function(d){"function"!=typeof d&&(d=T(d));for(var p=this._groups,n=p.length,e=Array(n),r=0;r<n;++r)for(var h,g,m=p[r],u=m.length,s=e[r]=Array(u),l=0;l<u;++l)(h=m[l])&&(g=d.call(h,h.__data__,l,m))&&("__data__"in h&&(g.__data__=h.__data__),s[l]=g);return new Ct(e,this._parents)},selectAll:function(d){"function"!=typeof d&&(d=S(d));for(var p=this._groups,n=p.length,e=[],r=[],i=0;i<n;++i)for(var c,h=p[i],u=h.length,s=0;s<u;++s)(c=h[s])&&(e.push(d.call(c,c.__data__,s,h)),r.push(c));return new Ct(e,r)},filter:function(d){"function"!=typeof d&&(d=E(d));for(var p=this._groups,n=p.length,e=Array(n),r=0;r<n;++r)for(var c,h=p[r],a=h.length,u=e[r]=[],s=0;s<a;++s)(c=h[s])&&d.call(c,c.__data__,s,h)&&u.push(c);return new Ct(e,this._parents)},data:function(x,k){if(!x)return f=Array(this.size()),s=-1,this.each(function(e){f[++s]=e}),f;var n=k?M:O,e=this._parents,r=this._groups;"function"!=typeof x&&(x=function(e){return function(){return e}}(x));for(var i=r.length,o=Array(i),b=Array(i),u=Array(i),s=0;s<i;++s){var T=e[s],c=r[s],h=c.length,f=x.call(T,T&&T.__data__,s,e),C=f.length,d=b[s]=Array(C),g=o[s]=Array(C);n(T,c,d,g,u[s]=Array(h),f,k);for(var v,S,A=0,E=0;A<C;++A)if(v=d[A]){for(A>=E&&(E=A+1);!(S=g[E])&&++E<C;);v._next=S||null}}return(o=new Ct(o,e))._enter=b,o._exit=u,o},enter:function(){return new Ct(this._enter||this._groups.map(z),this._parents)},exit:function(){return new Ct(this._exit||this._groups.map(z),this._parents)},join:function(a,t,n){var e=this.enter(),l=this,s=this.exit();return e="function"==typeof a?a(e):e.append(a+""),null!=t&&(l=t(l)),null==n?s.remove():n(s),e&&l?e.merge(l).order():l},merge:function(d){for(var t=this._groups,n=d._groups,e=t.length,r=n.length,i=da(e,r),o=Array(e),a=0;a<i;++a)for(var g,m=t[a],l=n[a],c=m.length,h=o[a]=Array(c),f=0;f<c;++f)(g=m[f]||l[f])&&(h[f]=g);for(;a<e;++a)o[a]=t[a];return new Ct(o,this._parents)},order:function(){for(var l=this._groups,t=-1,s=l.length;++t<s;)for(var e,d=l[t],i=d.length-1,p=d[i];0<=--i;)(e=d[i])&&(p&&4^e.compareDocumentPosition(p)&&p.parentNode.insertBefore(e,p),p=e);return this},sort:function(d){function p(t,n){return t&&n?d(t.__data__,n.__data__):!t-!n}d||(d=R);for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i){for(var h,g=n[i],u=g.length,s=r[i]=Array(u),l=0;l<u;++l)(h=g[l])&&(s[l]=h);s.sort(p)}return new Ct(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var l=this._groups,t=0,s=l.length;t<s;++t)for(var e,d=l[t],r=0,p=d.length;r<p;++r)if(e=d[r],e)return e;return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(l){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r,d=t[n],o=0,p=d.length;o<p;++o)(r=d[o])&&l.call(r,r.__data__,o,d);return this},attr:function(a,t){var n=y(a);if(2>arguments.length){var e=this.node();return n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}return this.each((null==t?n.local?D:I:"function"==typeof t?n.local?q:X:n.local?V:j)(n,t))},style:function(a,t,n){return 1<arguments.length?this.each((null==t?F:"function"==typeof t?$:H)(a,t,null==n?"":n)):Y(this.node(),a)},property:function(e,t){return 1<arguments.length?this.each((null==t?U:"function"==typeof t?Z:G)(e,t)):this.node()[e]},classed:function(a,t){var n=K(a+"");if(2>arguments.length){for(var e=Q(this.node()),r=-1,l=n.length;++r<l;)if(!e.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?it:t?nt:at)(n,t))},text:function(e){return arguments.length?this.each(null==e?rt:("function"==typeof e?st:lt)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ot:("function"==typeof e?pt:ct)(e)):this.node().innerHTML},raise:function(){return this.each(dt)},lower:function(){return this.each(ut)},append:function(e){var t="function"==typeof e?e:k(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(a,t){var n="function"==typeof a?a:k(a),e=null==t?ht:"function"==typeof t?t:T(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),e.apply(this,arguments)||null)})},remove:function(){return this.each(gt)},clone:function(e){return this.select(e?ft:mt)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(d,t,n){var p,h,g=_t(d+""),o=g.length;if(!(2>arguments.length)){for(a=t?vt:kt,null==n&&(n=!1),p=0;p<o;++p)this.each(a(g[p],t,n));return this}var a=this.node().__on;if(a)for(var m,f=0,y=a.length;f<y;++f)for(p=0,m=a[f];p<o;++p)if((h=g[p]).type===m.type&&h.name===m.name)return m.value},dispatch:function(e,t){return this.each(("function"==typeof t?Et:Tt)(e,t))}},Vt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var A=.7,qt=1/A,Wt=/^#([0-9a-f]{3,8})$/,Jt=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,rn=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,an=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,on=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,sn=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,ln=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(Ut,Kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Gt,formatHex:Gt,formatHsl:function(){return xn(this).formatHsl()},formatRgb:Zt,toString:Zt}),$t(mn,gn,Yt(Ut,{brighter:function(e){return e=null==e?qt:la(qt,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?A:la(A,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:fn,formatHex:fn,formatRgb:yn,toString:yn})),$t(kn,function(a,t,n,e){return 1===arguments.length?xn(a):new kn(a,t,n,null==e?1:e)},Yt(Ut,{brighter:function(e){return e=null==e?qt:la(qt,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?A:la(A,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),t=isNaN(a)||isNaN(this.s)?0:this.s,n=this.l,e=n+(.5>n?n:1-n)*t,r=2*n-e;return new mn(vn(240<=a?a-240:a+120,r,e),vn(a,r,e),vn(120>a?a+240:a-120,r,e),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:pa(0,da(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var un,hn,Ii,Di,Oi,Ri,Mi=function a(t){function n(e,s){var d=l((e=gn(e)).r,(s=gn(s)).r),r=l(e.g,s.g),i=l(e.b,s.b),o=Sn(e.opacity,s.opacity);return function(t){return e.r=d(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}var l=An(t);return n.gamma=a,n}(1),Pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xn=new RegExp(Pn.source,"g"),On=180/en,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bn=jn(function(e){return"none"===e?Yn:(un||(un=document.createElement("DIV"),hn=document.documentElement,Ii=document.defaultView),un.style.transform=e,e=Ii.getComputedStyle(hn.appendChild(un),null).getPropertyValue("transform"),hn.removeChild(un),In(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Qn=jn(function(e){return null==e?Yn:(Di||(Di=document.createElementNS("http://www.w3.org/2000/svg","g")),Di.setAttribute("transform",e),(e=Di.transform.baseVal.consolidate())?In((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Yn)},", ",")",")"),Jn=0,ji=0,Vi=0,Bi=0,Xi=0,qi=0,Fi="object"==("undefined"==typeof performance?"undefined":_typeof(performance))&&performance.now?performance:Date,oe="object"==("undefined"==typeof window?"undefined":_typeof(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};se.prototype=le.prototype={constructor:se,restart:function(a,t,n){if("function"!=typeof a)throw new TypeError("callback is not a function");n=(null==n?Vn():+n)+(null==t?0:+t),this._next||Ri===this||(Ri?Ri._next=this:Oi=this,Ri=this),this._call=a,this._time=n,fe()},stop:function(){this._call&&(this._call=null,this._time=1/0,fe())}};var ae=qa("start","end","cancel","interrupt"),ge=[],ve=zt.prototype.constructor,De=0,Hi=zt.prototype;Be.prototype={constructor:Be,select:function(d){var p=this._name,n=this._id;"function"!=typeof d&&(d=T(d));for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o)for(var g,m,y=e[o],l=y.length,c=i[o]=Array(l),h=0;h<l;++h)(g=y[h])&&(m=d.call(g,g.__data__,h,y))&&("__data__"in g&&(m.__data__=g.__data__),c[h]=m,de(c[h],p,n,h,c,_e(g,n)));return new Be(i,this._parents,p,n)},selectAll:function(m){var y=this._name,n=this._id;"function"!=typeof m&&(m=S(m));for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var w,_=e[a],l=_.length,c=0;c<l;++c)if(w=_[c]){for(var x,k=m.call(w,w.__data__,c,_),p=_e(w,n),d=0,b=k.length;d<b;++d)(x=k[d])&&de(x,y,n,d,k,p);i.push(k),o.push(w)}return new Be(i,o,y,n)},filter:function(d){"function"!=typeof d&&(d=E(d));for(var p=this._groups,n=p.length,e=Array(n),r=0;r<n;++r)for(var c,h=p[r],a=h.length,u=e[r]=[],s=0;s<a;++s)(c=h[s])&&d.call(c,c.__data__,s,h)&&u.push(c);return new Be(e,this._parents,this._name,this._id)},merge:function(d){if(d._id!==this._id)throw new Error;for(var t=this._groups,n=d._groups,e=t.length,r=n.length,i=da(e,r),o=Array(e),a=0;a<i;++a)for(var g,m=t[a],l=n[a],c=m.length,h=o[a]=Array(c),f=0;f<c;++f)(g=m[f]||l[f])&&(h[f]=g);for(;a<e;++a)o[a]=t[a];return new Be(o,this._parents,this._name,this._id)},selection:function(){return new ve(this._groups,this._parents)},transition:function(){for(var d=this._name,t=this._id,n=Ge(),e=this._groups,r=e.length,i=0;i<r;++i)for(var p,h=e[i],u=h.length,s=0;s<u;++s)if(p=h[s]){var g=_e(p,t);de(p,d,n,s,h,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Be(e,this._parents,d,n)},call:Hi.call,nodes:Hi.nodes,node:Hi.node,size:Hi.size,empty:Hi.empty,each:Hi.each,on:function(a,t){var n=this._id;return 2>arguments.length?_e(this.node(),n).on.on(a):this.each(Re(n,a,t))},attr:function(a,t){var n=y(a),e="transform"===n?Qn:Me;return this.attrTween(a,"function"==typeof t?(n.local?Te:Se)(n,e,be(this,"attr."+a,t)):null==t?(n.local?Ne:ke)(n):(n.local?Ee:Ae)(n,e,t))},attrTween:function(a,t){var n="attr."+a;if(2>arguments.length)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=y(a);return this.tween(n,(i.local?qe:ze)(i,t))},style:function(a,i,n){var e="transform"==(a+="")?Bn:Me;return null==i?this.styleTween(a,function(l,t){var n,s,d;return function(){var e=Y(this,l),i=(this.style.removeProperty(l),Y(this,l));return e===i?null:e===n&&i===s?d:d=t(n=e,s=i)}}(a,e)).on("end.style."+a,Ie(a)):"function"==typeof i?this.styleTween(a,function(l,t,n){var e,d,p;return function(){var i=Y(this,l),a=n(this),r=a+"";return null==a&&(this.style.removeProperty(l),r=a=Y(this,l)),i===r?null:i===e&&r===d?p:(d=r,p=t(e=i,a))}}(a,e,be(this,"style."+a,i))).each(function(d,t){var n,p,u,h,g="style."+t;return function(){var e=ye(this,d),a=e.on,i=null==e.value[g]?h||(h=Ie(t)):void 0;a===n&&u===i||(p=(n=a).copy()).on("end."+g,u=i),e.on=p}}(this._id,a)):this.styleTween(a,function(l,t,n){var e,s;return function(){var i=Y(this,l);return i===n+""?null:i===e?s:s=t(e=i,n)}}(a,e,i),n).on("end.style."+a,null)},styleTween:function(a,i,n){var e="style."+(a+="");if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==i)return this.tween(e,null);if("function"!=typeof i)throw new Error;return this.tween(e,He(a,i,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(be(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(1>arguments.length)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ye(e))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var a in this.__transition)if(+a!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(l,s){var n=this._id;if(l+="",2>arguments.length){for(var e,d=_e(this.node(),n).tween,i=0,p=d.length;i<p;++i)if((e=d[i]).name===l)return e.value;return null}return this.each((null==s?we:xe)(n,l,s))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Le:je)(t,e)):_e(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Xe:Oe)(t,e)):_e(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Ve(t,e)):_e(this.node(),t).ease},end:function(){var a,l,d=this,o=d._id,e=d.size();return new Promise(function(t,n){var r={value:n},p={value:function(){0==--e&&t()}};d.each(function(){var t=ye(this,o),e=t.on;e!==a&&((l=(a=e).copy())._.cancel.push(r),l._.interrupt.push(r),l._.end.push(p)),t.on=l})})}};var Ke={time:null,delay:0,duration:250,ease:function(e){return(1>=(e*=2)?e*e*e:(e-=2)*e*e+2)/2}};zt.prototype.interrupt=function(e){return this.each(function(){!function(l,t){var s,d,p,c=l.__transition,o=!0;if(c){for(p in t=null==t?null:t+"",c)(s=c[p]).name===t?(d=2<s.state&&5>s.state,s.state=6,s.timer.stop(),s.on.call(d?"interrupt":"cancel",l,l.__data__,s.index,s.group),delete c[p]):o=!1;o&&delete l.__transition}}(this,e)})},zt.prototype.transition=function(d){var p,c;d instanceof Be?(p=d._id,d=d._name):(p=Ge(),(c=Ke).time=Vn(),d=null==d?null:d+"");for(var h=this._groups,r=h.length,i=0;i<r;++i)for(var g,m=h[i],u=m.length,s=0;s<u;++s)(g=m[s])&&de(g,d,p,s,m,c||Ze(g,p));return new Be(h,this._parents,d,p)};var Qe=en,We=2*Qe,$i=1e-6;Je.prototype=qn.prototype={constructor:Je,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(a,t,n,e){this._+="Q"+ +a+","+ +t+","+(this._x1=+n)+","+(this._y1=+e)},bezierCurveTo:function(a,t,n,e,r,i){this._+="C"+ +a+","+ +t+","+ +n+","+ +e+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(g,x,k,b,T){var C=Math.acos;g=+g,x=+x,k=+k,b=+b,T=+T;var S=this._x1,o=this._y1,a=k-g,u=b-x,s=S-g,l=o-x,c=s*s+l*l;if(0>T)throw new Error("negative radius: "+T);if(null===this._x1)this._+="M"+(this._x1=g)+","+(this._y1=x);else if(!(c>$i));else if(tn(l*a-u*s)>$i&&T){var h=k-S,f=b-o,p=a*a+u*u,d=ea(p),v=ea(c),m=T*N((Qe-C((p+c-(h*h+f*f))/(2*d*v)))/2),y=m/v,_=m/d;tn(y-1)>$i&&(this._+="L"+(g+y*s)+","+(x+y*l)),this._+="A"+T+","+T+",0,0,"+ +(l*h>s*f)+","+(this._x1=g+_*a)+","+(this._y1=x+_*u)}else this._+="L"+(this._x1=g)+","+(this._y1=x)},arc:function(d,p,g,m,r,i){var f=Math.sin,y=Math.cos;d=+d,p=+p,i=!!i;var w=(g=+g)*y(m),a=g*f(m),u=d+w,s=p+a,l=1^i,c=i?m-r:r-m;if(0>g)throw new Error("negative radius: "+g);null===this._x1?this._+="M"+u+","+s:(tn(this._x1-u)>$i||tn(this._y1-s)>$i)&&(this._+="L"+u+","+s),g&&(0>c&&(c=c%We+We),c>We-$i?this._+="A"+g+","+g+",0,1,"+l+","+(d-w)+","+(p-a)+"A"+g+","+g+",0,1,"+l+","+(this._x1=u)+","+(this._y1=s):c>$i&&(this._+="A"+g+","+g+",0,"+ +(c>=Qe)+","+l+","+(this._x1=d+g*y(r))+","+(this._y1=p+g*f(r))))},rect:function(a,t,n,e){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +e+"h"+-n+"Z"},toString:function(){return this._}};Un.prototype=Gn.prototype={constructor:Un,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]==="$"&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]==="$"&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]==="$"&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]==="$"&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var a in this)a[0]==="$"&&++e;return e},empty:function(){for(var e in this)if(e[0]==="$")return!1;return!0},each:function(e){for(var t in this)t[0]==="$"&&e(this[t],t.slice(1),this)}};var Yi=Gn.prototype;Fa.prototype={constructor:Fa,has:Yi.has,add:function(e){return this["$"+(e+="")]=e,this},remove:Yi.remove,clear:Yi.clear,values:Yi.keys,size:Yi.size,empty:Yi.empty,each:Yi.each};var Ui,Gi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ya.prototype=Ua.prototype,Ua.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":pa(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+pa(0,0|this.precision))+(this.trim?"~":"")+this.type};var Zi,Ki,Qi={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return ia(e).toString(2)},c:function(e){return e+""},d:function(e){return 1e21<=tn(e=ia(e))?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return ia(e).toString(8)},p:function(e,t){return Ga(100*e,t)},r:Ga,s:function(l,t){var n=Ha(l,t);if(!n)return l+"";var e=n[0],r=n[1],i=r-(Ui=3*pa(-8,da(8,aa(r/3))))+1,s=e.length;return i===s?e:i>s?e+Array(i-s+1).join("0"):0<i?e.slice(0,i)+"."+e.slice(i):"0."+Array(1-i).join("0")+Ha(l,pa(0,t+i-1))[0]},X:function(e){return ia(e).toString(16).toUpperCase()},x:function(e){return ia(e).toString(16)}},Wi=Array.prototype.map,Ji=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];Ei.format=void 0,Zi=function(d){function p(s){function c(e){var n,r,p,c=D,u=_;if("c"===I)u=O(e)+u,e="";else{var h=0>(e=+e)||0>1/e;if(e=isNaN(e)?l:O(tn(e),A),P&&(e=function(a){t:for(var t,l=a.length,e=1,s=-1;e<l;++e)switch(a[e]){case".":s=t=e;break;case"0":0===s&&(s=e),t=e;break;default:if(!+a[e])break t;0<s&&(s=0);}return 0<s?a.slice(0,s)+a.slice(t+1):a}(e)),h&&0==+e&&"+"!==S&&(h=!1),c=(h?"("===S?S:w:"-"===S||"("===S?"":S)+c,u=("s"===I?Ji[8+Ui/3]:"")+u+(h&&"("===S?")":""),x)for(n=-1,r=e.length;++n<r;)if(48>(p=e.charCodeAt(n))||57<p){u=(46===p?o+e.slice(n+1):e.slice(n))+u,e=e.slice(0,n);break}}d&&!E&&(e=T(e,1/0));var g=c.length+e.length+u.length,m=g<z?Array(z-g+1).join(C):"";switch(d&&E&&(e=T(m+e,m.length?z-u.length:1/0),m=""),k){case"<":e=c+e+u+m;break;case"=":e=c+m+e+u;break;case"^":e=m.slice(0,g=m.length>>1)+c+e+u+m.slice(g);break;default:e=m+c+e+u;}return a(e)}var C=(s=Ya(s)).fill,k=s.align,S=s.sign,h=s.symbol,E=s.zero,z=s.width,d=s.comma,A=s.precision,P=s.trim,I=s.type;"n"===I?(d=!0,I="g"):Qi[I]||(void 0===A&&(A=12),P=!0,I="g"),(E||"0"===C&&"="===k)&&(E=!0,C="0",k="=");var D="$"===h?r:"#"===h&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",_="$"===h?i:/[%p]/.test(I)?u:"",O=Qi[I],x=/[defgprs%]/.test(I);return A=void 0===A?6:/[gprs]/.test(I)?pa(1,da(21,A)):pa(0,da(20,A)),c.toString=function(){return s+""},c}var h,g,T=void 0===d.grouping||void 0===d.thousands?Za:(h=Wi.call(d.grouping,Number),g=d.thousands+"",function(e,t){for(var n=e.length,r=[],l=0,o=h[0],d=0;0<n&&0<o&&(d+o+1>t&&(o=pa(1,t-d)),r.push(e.substring(n-=o,n+o)),!((d+=o+1)>t));)o=h[l=(l+1)%h.length];return r.reverse().join(g)}),r=void 0===d.currency?"":d.currency[0]+"",i=void 0===d.currency?"":d.currency[1]+"",o=void 0===d.decimal?".":d.decimal+"",a=void 0===d.numerals?Za:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Wi.call(d.numerals,String)),u=void 0===d.percent?"%":d.percent+"",w=void 0===d.minus?"-":d.minus+"",l=void 0===d.nan?"NaN":d.nan+"";return{format:p,formatPrefix:function(a,l){var n=p(((a=Ya(a)).type="f",a)),e=3*pa(-8,da(8,aa($a(l)/3))),r=la(10,-e),i=Ji[8+e/3];return function(e){return n(r*e)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ei.format=Zi.format,Ki=Zi.formatPrefix;var er=Array.prototype,tr=er.map,nr=er.slice,ar=[0,1];fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,a){switch(e=+e,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,a):this._context.moveTo(e,a);break;case 1:this._point=2;default:this._context.lineTo(e,a);}}},Ei.axisBottom=function(n){return e(3,n)},Ei.axisLeft=function(n){return e(4,n)},Ei.axisRight=function(n){return e(2,n)},Ei.bisector=n,Ei.curveLinear=yi,Ei.drag=function(){function w(e){e.on("mousedown.drag",x).filter(E).on("touchstart.drag",g).on("touchmove.drag",k).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!T&&C.apply(this,arguments)){var e=y("mouse",S.apply(this,arguments),Ot,this,arguments);e&&(Lt(f.view).on("mousemove.drag",p,!0).on("mouseup.drag",d,!0),Dt(f.view),Rt(),b=!1,_=f.clientX,v=f.clientY,e("start"))}}function p(){if(It(),!b){var e=f.clientX-_,t=f.clientY-v;b=e*e+t*t>l}z.mouse("drag")}function d(){Lt(f.view).on("mousemove.drag mouseup.drag",null),function(a,t){var n=a.document.documentElement,e=Lt(a).on("dragstart.drag",null);t&&(e.on("click.drag",It,!0),setTimeout(function(){e.on("click.drag",null)},0)),"onselectstart"in n?e.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(f.view,b),It(),z.mouse("end")}function g(){if(C.apply(this,arguments)){var i,l,s=f.changedTouches,e=S.apply(this,arguments),r=s.length;for(i=0;i<r;++i)(l=y(s[i].identifier,e,Mt,this,arguments))&&(Rt(),l("start"))}}function k(){var a,i,l=f.changedTouches,e=l.length;for(a=0;a<e;++a)(i=z[l[a].identifier])&&(It(),i("drag"))}function m(){var a,r,l=f.changedTouches,e=l.length;for(T&&clearTimeout(T),T=setTimeout(function(){T=null},500),a=0;a<e;++a)(r=z[l[a].identifier])&&(Rt(),r("end"))}function y(c,t,n,e,r){var i,m,y,_=n(t,c),x=s.copy();if(At(new Vt(w,"beforestart",i,c,P,_[0],_[1],0,0,x),function(){return null!=(f.subject=i=A.apply(e,r))&&(m=i.x-_[0]||0,y=i.y-_[1]||0,!0)}))return function s(a){var l,o=_;switch(a){case"start":z[c]=s,l=P++;break;case"end":delete z[c],--P;case"drag":_=n(t,c),l=P;}At(new Vt(w,a,i,c,l,_[0]+m,_[1]+y,_[0]-o[0],_[1]-o[1],x),x.apply,x,[a,e,r])}}var _,v,b,T,C=Xt,S=Ft,A=Bt,E=Ht,z={},s=qa("start","drag","end"),P=0,l=0;return w.filter=function(e){return arguments.length?(C="function"==typeof e?e:jt(!!e),w):C},w.container=function(e){return arguments.length?(S="function"==typeof e?e:jt(e),w):S},w.subject=function(e){return arguments.length?(A="function"==typeof e?e:jt(e),w):A},w.touchable=function(e){return arguments.length?(E="function"==typeof e?e:jt(!!e),w):E},w.on=function(){var e=s.on.apply(s,arguments);return e===s?w:e},w.clickDistance=function(e){return arguments.length?(l=(e=+e)*e,w):ea(l)},w},Ei.line=function(){function l(e){var t,n,a,i=e.length,r=!1;for(null==m&&(y=f(a=qn())),t=0;t<=i;++t)!(t<i&&g(n=e[t],t,e))===r&&((r=!r)?y.lineStart():y.lineEnd()),r&&y.point(+d(n,t,e),+p(n,t,e));if(a)return y=null,a+""||null}var d=wi,p=_i,g=mi(!0),m=null,f=yi,y=null;return l.x=function(e){return arguments.length?(d="function"==typeof e?e:mi(+e),l):d},l.y=function(e){return arguments.length?(p="function"==typeof e?e:mi(+e),l):p},l.defined=function(e){return arguments.length?(g="function"==typeof e?e:mi(!!e),l):g},l.curve=function(e){return arguments.length?(f=e,null!=m&&(y=f(m)),l):f},l.context=function(e){return arguments.length?(null==e?m=y=null:y=f(m=e),l):m},l},Ei.mouse=Ot,Ei.range=function(a,l,s){a=+a,l=+l,s=2>(p=arguments.length)?(l=a,a=0,1):3>p?1:+s;for(var d=-1,p=0|pa(0,na((l-a)/s)),c=Array(p);++d<p;)c[d]=a+d*s;return c},Ei.scaleLinear=function e(){var t=ri(Wa,Wa);return t.copy=function(){return ai(t,e())},Ka.apply(t,arguments),si(t)},Ei.scaleLog=function e(){var t=gi(ii()).domain([1,10]);return t.copy=function(){return ai(t,e()).base(t.base())},Ka.apply(t,arguments),t},Ei.select=Lt,this.SkewT=function(e){function t(e){var t={131072:"surface",65536:"standard level",32768:"tropopause level",16384:"maximum wind level",8192:"significant temperature level",4096:"significant humidity level",2048:"significant wind level",1024:"beginning of missing temperature data",512:"end of missing temperature data",256:"beginning of missing humidity data",128:"end of missing humidity data",64:"beginning of missing wind data",32:"end of missing wind data",16:"top of wind sounding",8:"level determined by regional decision",4:"reserved",2:"pressure level vertical coordinate"},n=[];return function e(r,a){r%2&&n.push(t[1<<a]),r&&e(r>>1,a+1)}(e,0),n}function n(){P=parseInt(fe.style("width"),10),C=C||P,r=P-I.left-I.right,i=C-I.top-I.bottom,O=N((m||55)*D),de=Ei.scaleLog().range([0,i]).domain([v,V]),ie=Ei.scaleLog().range([0,i]).domain([_,V]),q=F*(i-de(_))/(i-de(v)),ae=Ei.scaleLinear().range([r/2-2*i,r/2+2*i]).domain([0-4*q,0+4*q]),$=40>q?30:40,re=Ei.axisBottom(ae).tickSize(0,0).ticks($),le=Ei.axisLeft(ie).tickSize(0,0).tickValues(Z.filter(function(e){return 0==e%100||50==e||150==e})).tickFormat(Ei.format(".0d")),se=Ei.axisRight(ie).tickSize(5,0).tickValues(K),oe=Ei.axisLeft(ie).tickSize(2,0).tickValues(ee),R=g.getElevation(_)/(i/12)}function a(e,t){return"kt"===t?1.943844492*e:"kmh"===t?3.6*e:e}function l(e,t){return"m"===t?ia(e)+t:"f"===t?ia(3.28084*e)+"ft":e}function s(){Te.selectAll("*").remove(),n(),we.attr("width",r+I.right+I.left).attr("height",i+I.top+I.bottom),be.attr("transform","translate("+I.left+","+I.top+")"),De(),ue.forEach(function(e){Ve(e.data,{add:!0,select:!1})}),M&&je(M.data),Oe(),Ae.attr("width",r).attr("height",i),ye.style("left",I.left+2+"px").style("top",I.top+"px").style("height",i+"px");var e=ie(100);Ee.style("left","0px").style("top",e+"px").style("height",i-e+"px"),ze.style("left","10px").style("top",e+"px").style("height",i-e+"px")}var o,d=this,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},c=p.isTouchDevice,u=p.gradient,m=void 0===u?45:u,f=p.topp,_=void 0===f?50:f,k=p.maxtopp,v=void 0===k?50:k,b=p.parctempShift,T=void 0===b?2:b,C=p.height,S=p.margins,A=void 0===S?{}:S,E=this,z=Ei.select(e),P=parseInt(z.style("width"),10),I={top:A.top||10,right:A.right||25,bottom:A.bottom||10,left:A.left||25},D=en/180;this.refs={};for(var O,R,M,j=!1,V=1050,B=-50,X=0,q=60,F=60,H=0,$=40,Y=!1,U=273.15,G=null,Z=[1e3,950,925,900,850,800,700,600,500,400,300,250,200,150,100,50],K=[],Q=25,J=Z[0]+Q;J>Z[Z.length-1];J-=Q)K.push(J);for(var ee=[],te=0;2e4>te;te+=1e4/3.28084)ee.push(g.pressureFromElevation(te));var ne=Ei.scaleLinear().range([0,300]).domain([0,150]);Ei.scaleLinear();var r,i,ae,ie,re,le,se,oe,de,pe=Ei.bisector(function(e){return e.press}).left,ce=[],ue=[],he="kt",ge="m",me="Barbs";void 0===c&&(L&&L.version?L.Browser.mobile&&(c=!0):c="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints);var fe=z.append("div").style("position","relative"),ye=fe.append("div").attr("class","cloud-container"),we=fe.append("svg").attr("class","mainsvg"),_e=fe.append("div").attr("class","controls fnt controls1"),xe=fe.append("div").attr("class","controls fnt controls2"),ke=fe.append("div").attr("class","range-container fnt"),ve=fe.append("div").attr("class","range-container-extra fnt"),be=we.append("g"),Te=be.append("g").attr("class","skewtbg"),Ce=be.append("g").attr("class","skewt"),Le=be.append("g").attr("class","windbarb"),Se=be.append("g").attr("class","tooltips"),Ae=be.append("rect").attr("class","overlay"),Ee=ye.append("canvas").attr("width",1).attr("height",200).attr("class","cloud");this.cloudRef1=Ee.node();var ze=ye.append("canvas").attr("width",1).attr("height",200).attr("class","cloud");this.cloudRef2=ze.node(),Ei.select(window).on("resize",s);var Pe,Ne,Ie={},De=function(){Pe=Te.append("clipPath").attr("id","clipper").append("rect").attr("x",0).attr("y",0).attr("width",r).attr("height",i),Ie.temp=Te.selectAll("templine").data(Ei.scaleLinear().domain([X-4*q,X+4*q]).ticks($)).enter().append("line").attr("x1",function(e){return ae(e)-.5+(ie(V)-ie(_))/O}).attr("x2",function(e){return ae(e)-.5}).attr("y1",0).attr("y2",i).attr("class",function(e){return 0==e?"tempzero ".concat(Be.Temp.hi?"highlight-line":""):"templine ".concat(Be.Temp.hi?"highlight-line":"")}).attr("clip-path","url(#clipper)");var e=Y?[V,V-.25*(V-_),V-.5*(V-_),V-.75*(V-_),_]:Ei.range(V,_-50,B),n=g.pressureFromElevation(11e3),a=Ei.line().curve(Ei.curveLinear).x(function(e){g.getElevation2(e);var a=e>n?15-.00649*g.getElevation(e):-56.5;return ae(a)+(ie(V)-ie(e))/O}).y(function(e){return ie(e)});Ie.elr=Te.selectAll("elr").data([Z.filter(function(e){return e>n}).concat([n,50])]).enter().append("path").attr("d",a).attr("clip-path","url(#clipper)").attr("class","elr ".concat(Qe?"highlight-line":"")),Ie.pressure=Te.selectAll("pressureline").data(Z).enter().append("line").attr("x1",-r).attr("x2",2*r).attr("y1",ie).attr("y2",ie).attr("clip-path","url(#clipper)").attr("class","pressure ".concat(Be.Pressure.hi?"highlight-line":""));for(var l,t=Ei.scaleLinear().domain([X-2*q,X+6*q]).ticks($),s=[],o=0;o<t.length;o++){l=[];for(var d=0;d<e.length;d++)l.push(t[o]);s.push(l)}var p=Ei.line().curve(Ei.curveLinear).x(function(t,n){return ae(g.dryLapse(e[n],U+t,V)-U)+(ie(V)-ie(e[n]))/O}).y(function(t,n){return ie(e[n])});Ie.dryadiabat=Te.selectAll("dryadiabatline").data(s).enter().append("path").attr("class","dryadiabat  ".concat(Be["Dry Adiabat"].hi?"highlight-line":"")).attr("clip-path","url(#clipper)").attr("d",p);var c,u=Ei.line().curve(Ei.curveLinear).x(function(t,n){return c=0==n?U+t:c+g.moistGradientT(e[n],c)*(Y?(_-V)/4:B),ae(c-U)+(ie(V)-ie(e[n]))/O}).y(function(t,n){return ie(e[n])});Ie.moistadiabat=Te.selectAll("moistadiabatline").data(s).enter().append("path").attr("class","moistadiabat ".concat(Be["Moist Adiabat"].hi?"highlight-line":"")).attr("clip-path","url(#clipper)").attr("d",u);var h,m=Ei.line().curve(Ei.curveLinear).x(function(t,n){return 0==n&&(h=g.mixingRatio(g.saturationVaporPressure(t+U),e[n])),c=g.dewpoint(g.vaporPressure(e[n],h)),ae(c-U)+(ie(V)-ie(e[n]))/O}).y(function(t,n){return ie(e[n])});Ie.isohume=Te.selectAll("isohumeline").data(s).enter().append("path").attr("class","isohume ".concat(Be.Isohume.hi?"highlight-line":"")).attr("clip-path","url(#clipper)").attr("d",m),Te.append("line").attr("x1",r-.5).attr("x2",r-.5).attr("y1",0).attr("y2",i).attr("class","gridline"),Ne=Te.append("g").attr("class","x axis").attr("transform","translate(0,"+(i-.5)+")").call(re).attr("clip-path","url(#clipper)"),Te.append("g").attr("class","y axis").attr("transform","translate(-0.5,0)").call(le),Te.append("g").attr("class","y axis ticks").attr("transform","translate(-0.5,0)").call(se),Te.append("g").attr("class","y axis hght-ticks").attr("transform","translate(-0.5,0)").call(oe)},Oe=function(){for(var e in Pe.attr("x",-H),Ne.attr("transform","translate(".concat(H,", ").concat(i-.5," )")),Ie)Ie[e].attr("transform","translate(".concat(H,",0)"));ue.forEach(function(e){for(var t in e.lines)e.lines[t].attr("transform","translate(".concat(H,",0)"))})},Re=function(){function e(){v(),s.call(Ae.node()),x=Ei.mouse(this)[0]-H}function n(){x=null}function s(){var e=Ei.mouse(this)[0];null!==x&&(H=-(x-e),Oe());var t=ie.invert(Ei.mouse(this)[1]);b(t)}var o=Se.append("g").attr("class","focus tmpc");o.append("circle").attr("r",4),o.append("text").attr("x",9).attr("dy",".35em");var p=Se.append("g").attr("class","focus dwpc");p.append("circle").attr("r",4),p.append("text").attr("x",-9).attr("text-anchor","end").attr("dy",".35em");var u=Se.append("g").attr("class","focus"),h=u.append("text").attr("x","0.8em").attr("text-anchor","start").attr("dy",".35em"),g=u.append("text").attr("x","0.8em").attr("text-anchor","start").attr("dy","-0.65em").style("fill","blue"),m=Se.append("g").attr("class","focus windspeed"),f=m.append("text").attr("x","0.8em").attr("text-anchor","start").attr("dy",".35em"),y=m.append("text").attr("x","0.8em").attr("text-anchor","start").attr("dy","-0.65em").style("fill","red"),w=m.append("text").attr("class","skewt-wind-arrow").html("&#8681;"),_=m.append("text").attr("y","1em").attr("text-anchor","start").style("fill","rgba(0,0,0,0.3)").style("font-size","10px"),x=null,k=function(){[o,p,u,m].forEach(function(t){return t.style("display","none")}),G=null};k();var v=function(){[o,p,u,m].forEach(function(t){return t.style("display",null)})},b=function(e){(e||0===e)&&v();var n=pe(ce,e,1,ce.length-1),i=ce[n-1],s=ce[n],c=e-i.press>s.press-e?s:i;G=e,o.attr("transform","translate("+(H+ae(c.temp)+(ie(V)-ie(c.press))/O)+","+ie(c.press)+")"),p.attr("transform","translate("+(H+ae(c.dwpt)+(ie(V)-ie(c.press))/O)+","+ie(c.press)+")"),u.attr("transform","translate(0,"+ie(c.press)+")"),h.html("&nbsp;&nbsp;&nbsp;"+(c.hght||0===c.hght?l(c.hght,ge):"")),g.html("&nbsp;&nbsp;&nbsp;"+ia(c.dwpt)+"&#176;C"),m.attr("transform","translate("+(r-("Barbs"==me?70:80))+","+ie(c.press)+")"),f.html(isNaN(c.wspd)?"":ia(10*a(c.wspd,he))/10+he),y.html(ia(c.temp)+"&#176;C"),w.style("transform","rotate(".concat(c.wdir,"deg)")),_.html(c.flags?t(c.flags).map(function(e){return"<tspan x=\"-8em\" dy=\"0.8em\">".concat(e,"</tspan>")}).join():""),ht&&ht.forEach(function(e){return e(c.press)})};Ae.attr("width",r).attr("height",i),c?Ae.on("touchstart",e).on("touchmove",s).on("touchend",n):Ae.call(Ei.drag().on("start",e).on("drag",s).on("end",n)),Object.assign(this,{move2P:b,hideTooltips:k,showTooltips:v})},Me=function(e){var t=e.data,n=e.parctemp;if(null!=t[0].dwpt){var a=g.parcelTrajectory({level:t.map(function(t){return t.press}),gh:t.map(function(t){return t.hght}),temp:t.map(function(t){return t.temp+U})},Y?10:$,n+U,t[0].press,t[0].dwpt+U),i=Ei.line().curve(Ei.curveLinear).x(function(e){return ae(e.t)+(ie(V)-ie(e.p))/O}).y(function(e){return ie(e.p)}),r={parcel:[],LCL:[],CCL:[],TCON:[],"THRM top":[],"CLD top":[]};for(var s in r){var o=s;e.lines[o]&&e.lines[o].remove();var d=[],p=void 0;switch(o){case"parcel":a.dry&&d.push(a.dry),a.moist&&d.push(a.moist);break;case"TCON":var c=a.TCON;d=void 0===c?[]:[[[c,V],[c,_]]];break;case"LCL":a.isohumeToDry&&d.push(a.isohumeToDry);break;case"CCL":a.isohumeToTemp&&d.push(a.isohumeToTemp),a.moistFromCCL&&d.push(a.moistFromCCL);break;case"THRM top":p=a.pThermalTop,p&&(d=[[[0,p],[400,p]]]);break;case"CLD top":p=a.pCloudTop,p&&(d=[[[0,p],[400,p]]]);}d&&(r[o]=d.map(function(t){return t.map(function(e){return{t:e[0]-U,p:e[1]}})})),e.lines[o]=Ce.selectAll(o).data(r[o]).enter().append("path").attr("class","".concat("parcel"==o?"parcel":"cond-level"," ").concat(M&&t==M.data&&("parcel"==o||Fe[o].hi)?"highlight-line":"")).attr("clip-path","url(#clipper)").attr("d",i).attr("transform","translate(".concat(H,",0)"))}for(var u in Fe){var h=a["CLD top"==u?"cloudTop":"THRM top"==u?"elevThermalTop":u],m=void 0;"CLD top"==u&&1e5==h&&(h=t[t.length-1].hght,m=!0);var f="".concat((u[0].toUpperCase()+u.slice(1)).replace(" ","&nbsp;"),":<br><span style=\"font-size:1.1em;\"> ").concat(h?"TCON"==u?(h-U).toFixed(1)+"&#176;C":(m?"> ":"")+l(h,ge):"","</span>");Fe[u].val.html(f)}}},je=function(e){ue.forEach(function(t){var n=t.data==e;for(var a in t.lines)t.lines[a].classed("highlight-line",n&&(!Fe[a]||Fe[a].hi));n&&(M=t,ce=[].concat(t.data).reverse(),Ye.parctemp.input.node().value=Ye.parctemp.value=t.parctemp=ia(10*t.parctemp)/10,Ye.parctemp.valueDiv.html(Ge(t.parctemp,"parctemp")))}),E.hideTooltips()},Ve=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.add,l=n.select,s=n.ixShift,o=void 0===s?0:s,d=n.max,p=void 0===d?2:d;if(0!=e.length){var c=0;i||(ue.forEach(function(e){for(var t in e.lines)e.lines[t].remove()}),ue=[],[1,2].forEach(function(e){var t=E["cloudRef"+e].getContext("2d");t.clearRect(0,0,10,200)}));var u,h=ue.find(function(t){return t.data==e});if(!h){var g=ia(10*(e[0].temp+Ye.parctempShift.value))/10;u=e;for(var m=0;m<u.length;m++)if(null==u[m].dwpt&&0<=u[m].rh&&100>=u[m].rh){var f=u[m],y=f.rh,w=f.temp;u[m].dwpt=243.04*(oa(y/100)+17.625*w/(243.04+w))/(17.625-oa(y/100)-17.625*w/(243.04+w))}c=ue.push({data:u,parctemp:g,lines:{}})-1,h=ue[c],c>=p&&(console.log("more than max plots added"),c--,setTimeout(function(e){ue.length>p&&E.removePlot(ue[e].data)},1e3,c))}else for(var x in c=ue.indexOf(h),u=h.data,h.lines)h.lines[x].remove();l&&(Ye.parctemp.input.node().value=Ye.parctemp.value=h.parctemp,Ye.parctemp.valueDiv.html(Ge(h.parctemp,"parctemp")));var k=u.filter(function(e){return-1e3<e.temp&&(null==e.dwpt||-1e3<e.dwpt)}),v=[k];if(50<u.length&&Y){var b=-1;v=[k.filter(function(t,e,i){var a=aa(50*e/(i.length-1));if(a>b)return b=a,!0})]}var T=Ei.line().curve(Ei.curveLinear).x(function(e){return ae(e.temp)+(ie(V)-ie(e.press))/O}).y(function(e){return ie(e.press)});if(h.lines.tempLine=Ce.selectAll("templines").data(v).enter().append("path").attr("class","temp").attr("clip-path","url(#clipper)").attr("d",T),u[0].dwpt){var C=Ei.line().curve(Ei.curveLinear).x(function(e){return ae(e.dwpt)+(ie(V)-ie(e.press))/O}).y(function(e){return ie(e.press)});h.lines.tempdewLine=Ce.selectAll("tempdewlines").data([v[0].filter(function(t){return t.dwpt})]).enter().append("path").attr("class","dwpt").attr("clip-path","url(#clipper)").attr("d",C),Me(h)}var S=u.filter(function(e,n,i,a){return!!(e.flags&&(a=t(e.flags),a.includes("tropopause level")||a.includes("surface")))&&e.press}).map(function(e,n,i,a){return a=t(e.flags),{press:e.press,classes:a.map(function(t){return t.replace(/ /g,"-")}).join(" ")}});h.lines.siglines=Te.selectAll("siglines").data(S).enter().append("line").attr("x1",-r).attr("x2",2*r).attr("y1",function(e){return ie(e.press)}).attr("y2",function(e){return ie(e.press)}).attr("clip-path","url(#clipper)").attr("class",function(e){return"sigline ".concat(e.classes)});var A=-300,z=v[0].filter(function(e){return e.hght>A+R&&(e.wspd||0===e.wspd)&&e.press>=_&&(0!==e.wspd||0!==e.wdir)&&(A=e.hght),e.hght==A});h.lines.barbs=Le.append("svg").attr("class","barblines ".concat("Numerical"==me?"hidden":"")),h.lines.barbs.selectAll("barbs").data(z).enter().append("use").attr("href",function(e){return"#barb"+5*ia(a(e.wspd,"kt")/5)}).attr("transform",function(e){return"translate("+(r+15*(c+o))+","+ie(e.press)+") rotate("+(e.wdir+180)+")"}),h.lines.windtext=Le.append("svg").attr("class","windtext ".concat("Barbs"==me?"hidden":"")),h.lines.windtext.selectAll("windtext").data(z).enter().append("g").attr("transform",function(e){return"translate(".concat(r+28*(c+o)-20," , ").concat(ie(e.press),")")}),h.lines.windtext.selectAll("g").append("text").html("&#x2191;").style("transform",function(e){return"rotate("+(180+e.wdir)+"deg)"}),h.lines.windtext.selectAll("g").append("text").html(function(e){return ia(a(e.wspd,"kt"))}).attr("x","0.5em");var P=Ai.computeClouds(u);return P.canvas=E["cloudRef"+(c+o+1)],Ai.cloudsToCanvas(P),h.cloudCanvas=P.canvas,(l||1==ue.length)&&je(h.data),Oe(),ue.length}},Be={"Dry Adiabat":{},"Moist Adiabat":{},Isohume:{},Temp:{},Pressure:{}},Xe=function(e){var t=Be[e];t.hi=!1,t.el=_e.append("div").attr("class","buttons").text(e).on("click",function(){t.hi=!t.hi,t.el.node().classList[t.hi?"add":"remove"]("clicked");var n=e.replace(" ","").toLowerCase();Ie[n]._groups[0].forEach(function(e){return e.classList[t.hi?"add":"remove"]("highlight-line")})})};for(var qe in Be)Xe(qe);this.refs.highlightButtons=_e.node();var Fe={surface:{},LCL:{hi:!0},CCL:{hi:!0},TCON:{hi:!1},"THRM top":{hi:!1},"CLD top":{hi:!1}},He=function(e){var t=e,n=Fe[t];n.val=xe.append("div").attr("class","buttons ".concat("surface"==t?"noclick":""," ").concat(n.hi?"clicked":"")).html(t+":"),/CCL|LCL|TCON|THRM top|CLD top/.test(t)&&n.val.on("click",function(){n.hi=!n.hi,n.val.node().classList[n.hi?"add":"remove"]("clicked"),M.lines[t]._groups[0].forEach(function(e){return e.classList[n.hi?"add":"remove"]("highlight-line")})})};for(var $e in Fe)He($e);this.refs.valueButtons=xe.node();var Ye={parctemp:{value:10,step:.1,min:-50,max:50},topp:{min:50,max:900,step:25,value:_},parctempShift:{min:-5,step:.1,max:10,value:T},gradient:{min:0,max:85,step:1,value:m}},Ue=function(e){return"gradient"==e?"&#176":"topp"==e?"hPa":"&#176;C"},Ge=function(e,t){var n="";if("parctempShift"==t&&0<=ne.value&&(n+="+"),n+=("gradient"==t||"topp"==t?ia(e):ia(10*e)/10)+Ue(t),"parctemp"==t){var a=M?ia(10*(e-M.data[0].temp))/10:T;n+=" <span style='font-size:0.8em'>&nbsp;"+(0<a?"+":"")+a+"</span>"}return n},Ze=function(e){var t=e,n="parctemp"==t||"topp"==t?ke:ve,i=Ye[t];i.row=n.append("div").attr("class","row"),d.refs[t]=i.row.node(),i.valueDiv=i.row.append("div").attr("class","skewt-range-des").html("gradient"==t?"Gradient:":"topp"==t?"Top P:":"parctemp"==t?"Parcel T:":"Parcel T Shift:"),i.valueDiv=i.row.append("div").attr("class","skewt-range-val").html(Ge(i.value,t)),i.input=i.row.append("input").attr("type","range").attr("min",i.min).attr("max",i.max).attr("step",i.step).attr("value","gradient"==t?90-i.value:i.value).attr("class","skewt-ranges").on("input",function(e,n,a){if(E.hideTooltips(),i.value=+a[0].value,"gradient"==t&&(m=i.value=90-i.value,We(0,0,i.input)),"topp"==t){We(0,0,i.input);var r=ie(V)-ie(_);_=i.value;var l=ie(V)-ie(_);B=500<_?-25:-50,j&&(Ye.gradient.value=m=nn(N(m*D)*r/l)/D,Ye.gradient.input.node().value=90-m,Ye.gradient.valueDiv.html(Ge(m,"gradient")),F*=r/l,Ye.gradient.cbfs&&Ye.gradient.cbfs.forEach(function(e){return e(m)})),R=g.getElevation(_)/30}"parctempShift"==t&&(T=i.value),i.valueDiv.html(Ge(i.value,t)),clearTimeout(Y),Y=setTimeout(function(){Y=!1,"parctemp"==t?M&&Me(M):s()},1e3),"parctemp"==t?M&&(M.parctemp=i.value,Me(M)):s(),i.cbfs&&i.cbfs.forEach(function(e){return e("gradient"==t?m:i.value)})})};for(var Ke in Ye)Ze(Ke);var Qe,We=function(e,t,n){n=n[0]||n.node(),Ie.elr.classed("highlight-line",!0),clearTimeout(Qe),Qe=null,Qe=setTimeout(function(){n.blur(),Ie.elr.classed("highlight-line",Qe=null)},1e3)};Ye.gradient.input.on("focus",We),Ye.topp.input.on("focus",We);var Je=ve.append("span").attr("class","row checkbox-container");this.refs.maintainXCheckBox=Je.node(),Je.append("input").attr("type","checkbox").on("click",function(t,n,a){j=a[0].checked}),Je.append("span").attr("class","skewt-checkbox-text").html("Maintain temp range on X-axis when zooming");var et=ve.append("div").attr("class","row select-units");this.refs.selectUnits=et.node(),et.append("div").style("width","10em").html("Select alt units: ");var tt={meter:{},feet:{}},nt=function(e){var t=e;tt[t].hi=t[0]==ge,tt[t].el=et.append("div").attr("class","buttons units"+(ge==t[0]?" clicked":"")).text(t).on("click",function(){for(var e in tt)tt[e].hi=t==e,tt[e].el.node().classList[tt[e].hi?"add":"remove"]("clicked");ge=t[0],null!==G&&E.move2P(G),Me(M)})};for(var at in tt)nt(at);var it=ve.append("div").attr("class","row select-units");this.refs.selectWindDisp=it.node(),it.append("div").style("width","10em").html("Select wind display: ");var rt={Barbs:{},Numerical:{}},lt=function(e){var t=e;rt[t].hi=t==me,rt[t].el=it.append("div").attr("class","buttons units"+(me==t?" clicked":"")).text(t).on("click",function(){for(var e in rt)rt[e].hi=t==e,rt[e].el.node().classList[rt[e].hi?"add":"remove"]("clicked");me=t,ue.forEach(function(e){e.lines.barbs.classed("hidden","Numerical"==me),e.lines.windtext.classed("hidden","Barbs"==me)})})};for(var st in rt)lt(st);var ot=function(e){var t=ue.find(function(t){return t.data==e});if(t){var n=ue.indexOf(t);if(t.cloudCanvas){var a=t.cloudCanvas.getContext("2d");a.clearRect(0,0,10,200)}for(var i in t.lines)t.lines[i].remove();ue.splice(n,1),0==ue.length&&(E.hideTooltips(),console.log("All plots removed"))}},dt=function(){ue.forEach(function(e){for(var t in e.lines)e.lines[t].remove();var n=e.cloudCanvas.getContext("2d");n.clearRect(0,0,10,200)}),E.hideTooltips(),Ce.selectAll("lines").remove(),Ce.selectAll("path").remove(),Ce.selectAll("g").remove(),Le.selectAll("use").remove(),ue=[]},pt=function(e){var t=e.height;C=void 0===t?C:t;var n=e.topp;_=void 0===n?_:n;var a=e.parctempShift;T=void 0===a?T:a;var i=e.parctemp;o=void 0===i?o:i;var r=e.basep;V=void 0===r?V:r;var l=e.steph;R=void 0===l?R:l;var s=e.gradient;m=void 0===s?m:s,"gradient"==e?Ye.gradient.input.value=90-e:Ye[e]&&(Ye[e].input.value=e)},ct=function(){return{height:C,topp:_,basep:V,steph:R,gradient:m,parctempShift:T,parctemp:je.parctemp}},ut=function(e){H=ae(0)-ae(e),Oe()},ht=[],gt=[];this.drawBackground=De,this.resize=s,this.plot=Ve,this.clear=dt,this.clearBg=function(){Te.selectAll("*").remove()},this.selectSkewt=je,this.removePlot=ot,this.on=function(e,t){var n;if("press"==e||"temp"==e)n="press"==e?ht:gt;else for(var a in Ye)e.toLowerCase()==a.toLowerCase()&&(Ye[a].cbfs||(Ye[a].cbfs=[]),n=Ye[a].cbfs);n?n.includes(t)?console.log("EVENT ALREADY REGISTERED"):n.push(t):console.log("EVENT NOT RECOGNIZED")},this.off=function(e,t){var n;if("press"==e||"temp"==e)n="press"==e?ht:gt;else for(var a in Ye)Ye[a].cbfs&&e.toLowerCase()==a.toLowerCase()&&(n=Ye[a].cbfs);if(n){var i=n.findIndex(function(e){return t==e});0<=i&&n.splice(i,1)}},this.setParams=pt,this.getParams=ct,this.shiftDegrees=ut,this.parcelTrajectory=g.parcelTrajectory,this.pressure2y=ie,this.temp2x=ae,this.gradient=m,this.refs.tooltipRect=Ae.node(),n(),s(),Re.call(this),function(){var e=Ei.range(5,205,5),t=be.append("defs");e.forEach(function(e){var n=t.append("g").attr("id","barb"+e),a=aa(e/50),r=aa((e-50*a)/10),l=aa((e-50*a-10*r)/5),s=15/2;n.append("line").attr("x1",0).attr("x2",0).attr("y1",-15/2).attr("y2",15/2);for(var o=0;o<a;o++)n.append("polyline").attr("points","0,"+s+" -6,"+s+" 0,"+(s-2)).attr("class","flag"),s-=5;for(o=0;o<r;o++)n.append("line").attr("x1",0).attr("x2",-6).attr("y1",s).attr("y2",s+2),s-=3;for(o=0;o<l;o++)n.append("line").attr("x1",0).attr("x2",-3).attr("y1",s).attr("y2",s+1),s-=3})}()}},!1,".skew-t{position:relative;padding:0px}.skew-t .fnt{transition:font .3s;font:10px Arial;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',sans-serif}.skew-t .mainsvg{background-color:transparent}.skew-t .controls,.skew-t .range-container{margin-top:10px}.skew-t .controls .buttons,.skew-t .range-container .buttons{flex-grow:1;margin:3px;padding:3px 0 3.2px 0;border-radius:10px;text-align:center;cursor:pointer;line-height:1.1em;background-color:#dcdcdc}.skew-t .controls .buttons.clicked,.skew-t .range-container .buttons.clicked{background-color:#969696;color:white}.skew-t .controls .buttons.units,.skew-t .range-container .buttons.units{flex-grow:0;width:80px}.skew-t .controls .buttons.noclick,.skew-t .range-container .buttons.noclick{cursor:initial}.skew-t .controls .row,.skew-t .range-container .row{display:flex;flex-wrap:wrap}.skew-t .controls{box-sizing:border-box;width:100%;display:flex}.skew-t .controls .values{flex-grow:1;margin:3px;padding:3px;text-align:center;border-radius:10px;border:1px solid #dcdcdc;min-width:40px}.skew-t .skewt-range-des{width:20%}.skew-t .skewt-range-val{width:15%;white-space:nowrap}.skew-t .checkbox-container{width:100%;line-height:20px}.skew-t .select-units :first-child{line-height:20px}.skew-t .axis path,.skew-t .axis line{fill:none;stroke:#000;stroke-width:1px;shape-rendering:crispEdges}.skew-t .axis{fill:#000}.skew-t .y.axis{font-size:10px}.skew-t .y.axis.hght{font-size:10px;fill:red}.skew-t .x.axis{font-size:10px}.skew-t .y.axis.ticks text{display:none}.skew-t .y.axis.hght-ticks text{display:none}.skew-t .y.axis.hght-ticks line{stroke:red}.skew-t .skewt-line{fill:none;stroke-width:1.5px;stroke-opacity:.5}.skew-t .skewt-line.highlight-line{stroke-opacity:1;stroke-width:2px}.skew-t .temp{fill:none;stroke-width:1.5px;stroke-opacity:.5;stroke:red}.skew-t .temp.highlight-line{stroke-opacity:1;stroke-width:2px}.skew-t .dwpt{fill:none;stroke-width:1.5px;stroke-opacity:.5;stroke:blue}.skew-t .dwpt.highlight-line{stroke-opacity:1;stroke-width:2px}.skew-t .parcel{fill:none;stroke-width:1.5px;stroke-opacity:.5;stroke:green;stroke-opacity:.3}.skew-t .parcel.highlight-line{stroke-opacity:1;stroke-width:2px}.skew-t .cond-level{fill:none;stroke-width:1.5px;stroke-opacity:.5;stroke-width:1px;stroke:rgba(128,128,128,0.8);stroke-opacity:.15}.skew-t .cond-level.highlight-line{stroke-opacity:1;stroke-width:2px}.skew-t .cond-level.highlight-line{stroke-width:1px}.skew-t .gridline{stroke-width:.5px;stroke-opacity:.3;fill:none}.skew-t .gridline.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .tempzero{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:#aaa;stroke-width:1.25px}.skew-t .tempzero.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .dryadiabat{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:green}.skew-t .dryadiabat.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .templine{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:red}.skew-t .templine.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .pressure{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:#787878}.skew-t .pressure.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .moistadiabat{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:green;stroke-dasharray:5}.skew-t .moistadiabat.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .isohume{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:blue;stroke-dasharray:2}.skew-t .isohume.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .elr{stroke-width:.5px;stroke-opacity:.3;fill:none;stroke:purple;stroke-opacity:.03;stroke-width:3px}.skew-t .elr.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .elr.highlight-line{stroke-opacity:.7}.skew-t .sigline{stroke-width:.5px;stroke-opacity:.3;fill:none}.skew-t .sigline.highlight-line{stroke-opacity:1;stroke-width:1px}.skew-t .sigline.surface{stroke:green}.skew-t .sigline.tropopause-level{stroke:blue}.skew-t .windbarb{stroke:#000;stroke-width:.75px;fill:none}.skew-t .windbarb .barblines{opacity:.4}.skew-t .windbarb .barblines.highlight-line{opacity:1}.skew-t .windbarb .barblines.hidden{display:none}.skew-t .windbarb .windtext{opacity:.4;dominant-baseline:central;font-size:10px;fill:black;stroke-width:0}.skew-t .windbarb .windtext.highlight-line{opacity:1}.skew-t .windbarb .windtext.hidden{display:none}.skew-t .flag{fill:#000}.skew-t .overlay{fill:none;pointer-events:all}.skew-t .focus.tmpc circle{fill:red;stroke:none}.skew-t .focus.dwpc circle{fill:blue;stroke:none}.skew-t .focus text{font-size:14px}.skew-t .skewt-wind-arrow{alignment-baseline:middle;text-anchor:middle;fill:black;font-size:16px;font-weight:bold}.skew-t .range-container-extra{margin-top:10px;margin-top:0px}.skew-t .range-container-extra .buttons{flex-grow:1;margin:3px;padding:3px 0 3.2px 0;border-radius:10px;text-align:center;cursor:pointer;line-height:1.1em;background-color:#dcdcdc}.skew-t .range-container-extra .buttons.clicked{background-color:#969696;color:white}.skew-t .range-container-extra .buttons.units{flex-grow:0;width:80px}.skew-t .range-container-extra .buttons.noclick{cursor:initial}.skew-t .range-container-extra .row{display:flex;flex-wrap:wrap}.skew-t .skewt-ranges{all:revert;-webkit-appearance:none;color:white;background-color:transparent;width:60%}.skew-t .skewt-ranges:focus{outline:none}.skew-t .skewt-ranges::-webkit-slider-runnable-track{all:revert;-webkit-appearance:none;background:#dcdcdc;border-radius:16px;height:16px;padding:2px}.skew-t .skewt-ranges::-webkit-slider-thumb{all:revert;-webkit-appearance:none;border:1px solid #646464;height:12px;width:12px;border-radius:12px;background:#ffffff;cursor:pointer;box-shadow:1px 1px 1px #000000}.skew-t .flex-break{flex-basis:100%}.skew-t .cloud-container{overflow:hidden;position:absolute;width:20px;opacity:.8}.skew-t .cloud-container .cloud{position:absolute;width:10px}");